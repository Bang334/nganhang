# ğŸ“Š INDEX - UML DIAGRAMS

> **Há»‡ thá»‘ng Quáº£n lÃ½ NgÃ¢n hÃ ng - PlantUML Diagrams (Simplified)**

---

## âœ… Cáº¤U TRÃšC FILE (Version 3.0 - Simplified)

### ğŸ“‹ 1. USE CASE DIAGRAM
MÃ´ táº£ chá»©c nÄƒng há»‡ thá»‘ng theo 4 vai trÃ² ngÆ°á»i dÃ¹ng.

| File | MÃ´ táº£ | Actors | Sá»‘ UC |
|------|-------|--------|-------|
| **usecase.puml** | Tá»•ng quan chá»©c nÄƒng há»‡ thá»‘ng | Customer, Teller, Loan Officer, Admin | 19 |

**Ná»™i dung:**
- **Customer:** Xem tÃ i khoáº£n, Chuyá»ƒn khoáº£n, Má»Ÿ tiáº¿t kiá»‡m, ÄÄƒng kÃ½ vay, ÄÄƒng kÃ½ tÃ i sáº£n
- **Teller:** Má»Ÿ tÃ i khoáº£n, Náº¡p tiá»n, RÃºt tiá»n, KÃ­ch hoáº¡t tháº»
- **Loan Officer:** Tháº©m Ä‘á»‹nh vay, PhÃª duyá»‡t vay, Tháº©m Ä‘á»‹nh tÃ i sáº£n, Xá»­ lÃ½ ná»£ quÃ¡ háº¡n
- **Admin:** Quáº£n lÃ½ chi nhÃ¡nh, Quáº£n lÃ½ nhÃ¢n viÃªn, Xem bÃ¡o cÃ¡o

---

### ğŸ“Š 2. ER DIAGRAM
MÃ´ táº£ cáº¥u trÃºc database (19 entities Ä‘áº§y Ä‘á»§).

| File | MÃ´ táº£ | Tables | Má»©c Ä‘á»™ |
|------|-------|--------|--------|
| **er.puml** | Entity Relationship Diagram (Äáº§y Ä‘á»§ fields) | 19 | â­â­â­ HoÃ n chá»‰nh |

**19 Entities vá»›i Ä‘áº§y Ä‘á»§ fields:**
- `Branches` (9 fields) - Chi nhÃ¡nh
- `Roles` (3 fields) - Vai trÃ²
- `Employees` (11 fields) - NhÃ¢n viÃªn
- `Customers` (15 fields) - KhÃ¡ch hÃ ng
- `CreditScores` (5 fields) - Äiá»ƒm tÃ­n dá»¥ng
- `AccountTypes` (7 fields) - Loáº¡i tÃ i khoáº£n
- `Accounts` (10 fields) - TÃ i khoáº£n
- `Cards` (7 fields) - Tháº» ngÃ¢n hÃ ng
- `TransactionTypes` (4 fields) - Loáº¡i giao dá»‹ch
- `Transactions` (11 fields) - Giao dá»‹ch
- `SavingsInterestRates` (7 fields) - LÃ£i suáº¥t tiáº¿t kiá»‡m
- `SavingsDeposits` (14 fields) - Sá»• tiáº¿t kiá»‡m
- `SavingsTransactions` (6 fields) - Giao dá»‹ch tiáº¿t kiá»‡m
- `CollateralTypes` (4 fields) - Loáº¡i tÃ i sáº£n tháº¿ cháº¥p
- `Collaterals` (16 fields) - TÃ i sáº£n tháº¿ cháº¥p
- `LoanTypes` (7 fields) - Loáº¡i hÃ¬nh vay
- `LoanInterestRates` (11 fields) - LÃ£i suáº¥t cho vay
- `Loans` (26 fields) - Khoáº£n vay
- `LoanPaymentSchedule` (11 fields) - Lá»‹ch tráº£ ná»£
- `LoanPayments` (12 fields) - Thanh toÃ¡n khoáº£n vay

---

### ğŸ—ï¸ 3. CLASS DIAGRAM
MÃ´ táº£ cÃ¡c class vÃ  quan há»‡ (OOP) vá»›i Ä‘áº§y Ä‘á»§ attributes vÃ  methods.

| File | MÃ´ táº£ | Classes | Má»©c Ä‘á»™ |
|------|-------|---------|--------|
| **class.puml** | Class Diagram (Äáº§y Ä‘á»§ fields & methods) | 19 | â­â­â­ HoÃ n chá»‰nh |

**19 Classes vá»›i Ä‘áº§y Ä‘á»§ attributes:**
- `Branch`, `Role`, `Employee`, `Customer`, `CreditScore`
- `AccountType`, `Account`, `Card`
- `TransactionType`, `Transaction`
- `SavingsInterestRate`, `SavingsDeposit`, `SavingsTransaction`
- `CollateralType`, `Collateral`
- `LoanType`, `LoanInterestRate`, `Loan`
- `LoanPaymentSchedule`, `LoanPayment`

**Methods Ä‘áº§y Ä‘á»§:**
- **Customer:** `login()`, `viewAccounts()`, `createSavings()`, `applyLoan()`, `registerCollateral()`
- **Account:** `deposit()`, `withdraw()`, `transfer()`, `getBalance()`, `getTransactions()`
- **Loan:** `apply()`, `approve()`, `reject()`, `disburse()`, `makePayment()`, `calculateLTV()`, `calculateMonthlyPayment()`
- **SavingsDeposit:** `calculateInterest()`, `withdraw()`, `renew()`, `earlyWithdraw()`
- **Collateral:** `appraise()`, `verify()`, `calculateLTV()`
- **CreditScore:** `calculate()`, `updateScore()`, `getGrade()`

---

### ğŸ“Š 4. ACTIVITY DIAGRAMS
MÃ´ táº£ luá»“ng quyáº¿t Ä‘á»‹nh vÃ  xá»­ lÃ½ nghiá»‡p vá»¥ (7 nghiá»‡p vá»¥ chÃ­nh).

| File | Nghiá»‡p vá»¥ | Actor chÃ­nh | Äáº·c Ä‘iá»ƒm |
|------|-----------|-------------|----------|
| **activity/01-mo-tai-khoan.puml** | Má»Ÿ tÃ i khoáº£n má»›i | Teller | Swimlanes, validation |
| **activity/02-nap-rut-tien.puml** | Náº¡p/RÃºt tiá»n | Teller | Decision nodes, háº¡n má»©c |
| **activity/03-chuyen-khoan.puml** | Chuyá»ƒn khoáº£n | Customer | Transaction, rollback |
| **activity/04-mo-tiet-kiem.puml** | Má»Ÿ sá»• tiáº¿t kiá»‡m | Customer | TÃ­nh lÃ£i, ká»³ háº¡n |
| **activity/05-dang-ky-vay.puml** | ÄÄƒng kÃ½ vay | Customer | LTV calculation |
| **activity/06-tham-dinh-vay.puml** | Tháº©m Ä‘á»‹nh vay | Loan Officer | Credit score, 3 bÆ°á»›c |
| **activity/07-kich-hoat-the.puml** | KÃ­ch hoáº¡t tháº» | Teller | Validate mÃ£ |

**Äáº·c Ä‘iá»ƒm:**
- âœ… Swimlanes (phÃ¢n chia theo actor)
- âœ… Decision nodes (Ä‘iá»u kiá»‡n if/else)
- âœ… Notes (giáº£i thÃ­ch cÃ´ng thá»©c, quy táº¯c)
- âœ… Partitions (chia thÃ nh cÃ¡c bÆ°á»›c)
- âœ… PhÃ¹ há»£p vá»›i frontend logic

---

### ğŸ”„ 5. SEQUENCE DIAGRAMS
MÃ´ táº£ luá»“ng xá»­ lÃ½ nghiá»‡p vá»¥ (8 luá»“ng chÃ­nh).

| File | Nghiá»‡p vá»¥ | Actor chÃ­nh | BÆ°á»›c |
|------|-----------|-------------|------|
| **sequence/01-mo-tai-khoan.puml** | Má»Ÿ tÃ i khoáº£n má»›i | Teller | 12 |
| **sequence/02-nap-tien.puml** | Náº¡p tiá»n táº¡i quáº§y | Teller | 10 |
| **sequence/03-rut-tien.puml** | RÃºt tiá»n táº¡i quáº§y | Teller | 12 |
| **sequence/04-chuyen-khoan.puml** | Chuyá»ƒn khoáº£n | Customer | 15 |
| **sequence/05-mo-tiet-kiem.puml** | Má»Ÿ sá»• tiáº¿t kiá»‡m | Customer | 13 |
| **sequence/06-dang-ky-vay.puml** | ÄÄƒng kÃ½ khoáº£n vay | Customer | 18 |
| **sequence/07-tham-dinh-vay.puml** | Tháº©m Ä‘á»‹nh vÃ  phÃª duyá»‡t | Loan Officer | 25 |
| **sequence/08-kich-hoat-the.puml** | KÃ­ch hoáº¡t tháº» | Teller | 11 |

**Äáº·c Ä‘iá»ƒm:**
- âœ… CÃ³ transaction handling (BEGIN, COMMIT, ROLLBACK)
- âœ… CÃ³ validation vÃ  error handling
- âœ… CÃ³ tÃ­nh toÃ¡n (LTV ratio, Credit Score, Interest)
- âœ… Dá»±a theo frontend thá»±c táº¿ cá»§a project

---

## ğŸ¯ HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG

### ğŸ“ Cho bÃ¡o cÃ¡o Ä‘á»“ Ã¡n:

**1. Pháº§n PhÃ¢n tÃ­ch YÃªu cáº§u:**
```
- usecase.puml        (Chá»©c nÄƒng há»‡ thá»‘ng)
```

**2. Pháº§n Thiáº¿t káº¿ Database:**
```
- er.puml             (Cáº¥u trÃºc database)
```

**3. Pháº§n Thiáº¿t káº¿ OOP:**
```
- class.puml          (Classes vÃ  methods)
```

**4. Pháº§n Thiáº¿t káº¿ Chi tiáº¿t:**
Chá»n cÃ¡c sequence diagram theo nghiá»‡p vá»¥ cáº§n trÃ¬nh bÃ y:
```
- Giao dá»‹ch quáº§y:  01, 02, 03, 08
- KhÃ¡ch hÃ ng:      04, 05, 06
- TÃ­n dá»¥ng:        06, 07
```

---

## ğŸ“– HÆ¯á»šNG DáºªN Äá»ŒC THEO THá»¨ Tá»°

### ğŸ“ NgÆ°á»i má»›i báº¯t Ä‘áº§u:
```
1. usecase.puml                    (Hiá»ƒu chá»©c nÄƒng tá»•ng quan)
2. er.puml                         (Hiá»ƒu cáº¥u trÃºc database)
3. sequence/02-nap-tien.puml       (Luá»“ng Ä‘Æ¡n giáº£n nháº¥t)
4. sequence/04-chuyen-khoan.puml   (Luá»“ng cÃ³ transaction)
```

### ğŸ’¼ Hiá»ƒu nghiá»‡p vá»¥ Giao dá»‹ch viÃªn (Teller):
```
1. sequence/01-mo-tai-khoan.puml   (Má»Ÿ TK: 3 bÆ°á»›c validation)
2. sequence/02-nap-tien.puml       (Náº¡p tiá»n: Transaction handling)
3. sequence/03-rut-tien.puml       (RÃºt tiá»n: Kiá»ƒm tra sá»‘ dÆ°, háº¡n má»©c)
4. sequence/08-kich-hoat-the.puml  (KÃ­ch hoáº¡t tháº»: MÃ£ kÃ­ch hoáº¡t)
```

### ğŸ’° Hiá»ƒu nghiá»‡p vá»¥ KhÃ¡ch hÃ ng (Customer):
```
1. sequence/04-chuyen-khoan.puml   (Chuyá»ƒn khoáº£n ná»™i bá»™)
2. sequence/05-mo-tiet-kiem.puml   (Gá»­i tiáº¿t kiá»‡m: TÃ­nh lÃ£i)
3. sequence/06-dang-ky-vay.puml    (ÄÄƒng kÃ½ vay: TÃ­nh LTV)
```

### ğŸ¦ Hiá»ƒu nghiá»‡p vá»¥ TÃ­n dá»¥ng (Loan Officer):
```
1. sequence/06-dang-ky-vay.puml    (Customer Ä‘Äƒng kÃ½)
2. sequence/07-tham-dinh-vay.puml  (Tháº©m Ä‘á»‹nh: Credit Score + LTV + PhÃª duyá»‡t)
```

---

## ğŸ’¡ Äáº¶C ÄIá»‚M Ná»”I Báº¬T

### âœ… Dá»±a theo Frontend thá»±c táº¿:
- Má»—i sequence diagram tÆ°Æ¡ng á»©ng 1 chá»©c nÄƒng trÃªn UI
- Customer: 9 chá»©c nÄƒng (Overview, Accounts, Transfer, Savings, Loans, etc.)
- Teller: 4 chá»©c nÄƒng (New Account, Deposit, Withdraw, Card Activation)
- Loan Officer: 6 chá»©c nÄƒng (Pending, Approved, Rejected, Overdue, Collateral)
- Admin: 3 chá»©c nÄƒng (Branches, Employees, Reports)

### âœ… Dá»±a theo Database Schema:
- 10 entities chÃ­nh tá»« `schema_recommended.sql`
- Relationships Ä‘Ãºng vá»›i Foreign Keys
- CÃ³ transaction handling (BEGIN, COMMIT, ROLLBACK)

### âœ… TÃ­nh toÃ¡n thá»±c táº¿:
- **LTV Ratio:** `(Loan Amount / Collateral Value) Ã— 100%`
- **Credit Score:** Dá»±a vÃ o thu nháº­p, tá»· lá»‡ ná»£/thu nháº­p, lá»‹ch sá»­
- **Interest Calculation:** LÃ£i Ä‘Æ¡n vÃ  lÃ£i kÃ©p cho tiáº¿t kiá»‡m
- **Monthly Payment:** Khoáº£n tráº£ hÃ ng thÃ¡ng cho vay

### âœ… Ngáº¯n gá»n vÃ  dá»… hiá»ƒu:
- Use Case: 1 file, 19 use cases
- ER Diagram: 1 file, 10 entities chÃ­nh
- Class Diagram: 1 file, 10 classes
- Sequence Diagrams: 8 files, má»—i file 1 luá»“ng (10-25 bÆ°á»›c)

---

## ğŸ“Š Tá»”NG Káº¾T

**Tá»•ng sá»‘ file:** 11 files (giáº£m tá»« 20+ files xuá»‘ng)

| Loáº¡i | Sá»‘ file | MÃ´ táº£ |
|------|---------|-------|
| Use Case | 1 | Tá»•ng quan chá»©c nÄƒng |
| ER Diagram | 1 | Cáº¥u trÃºc database |
| Class Diagram | 1 | OOP design |
| Sequence | 8 | Luá»“ng xá»­ lÃ½ chi tiáº¿t |

**So sÃ¡nh vá»›i phiÃªn báº£n cÅ©:**
- âŒ XÃ³a: Activity diagrams (11 files) - quÃ¡ chi tiáº¿t, dÃ i dÃ²ng
- âŒ XÃ³a: State diagrams (2 files) - khÃ´ng cáº§n thiáº¿t
- âŒ XÃ³a: Component, Deployment, Package diagrams - chÆ°a triá»ƒn khai backend
- âœ… Giá»¯: Use Case, ER, Class, Sequence - Ä‘á»§ cho bÃ¡o cÃ¡o Ä‘á»“ Ã¡n
- âœ… Cáº£i tiáº¿n: Sequence diagrams dá»±a theo frontend thá»±c táº¿

---

## ğŸš€ CÃCH XEM DIAGRAM

### Online (Nhanh nháº¥t):
1. Truy cáº­p: https://www.plantuml.com/plantuml/uml/
2. Copy ná»™i dung file `.puml`
3. Paste vÃ o editor
4. Click "Submit" Ä‘á»ƒ xem diagram

### VSCode:
1. CÃ i extension: "PlantUML" by jebbs
2. Má»Ÿ file `.puml`
3. Press `Alt + D` Ä‘á»ƒ xem preview

### IntelliJ IDEA:
1. CÃ i plugin: "PlantUML integration"
2. Má»Ÿ file `.puml`
3. Preview tá»± Ä‘á»™ng hiá»‡n bÃªn pháº£i

---

## ğŸ“š TÃ€I LIá»†U THAM KHáº¢O

**Frontend:** `/frontend/TINH_NANG_CHI_TIET.md`
**Database:** `/database/schema_recommended.sql`
**Docs:** `/docs/` folder

---

**Version:** 3.0 - Simplified & Real-world Based  
**Updated:** 01/11/2025  
**Based on:** Frontend implementation + Database schema

# ðŸ“Š HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG UML DIAGRAMS

## ðŸŽ¯ CHIáº¾N LÆ¯á»¢C: NGáº®N Gá»ŒN + THá»°C TÃ‰

Version 3.0 táº­p trung vÃ o:
- âœ… **Ngáº¯n gá»n:** Chá»‰ giá»¯ cÃ¡c diagram cáº§n thiáº¿t
- âœ… **Thá»±c táº¿:** Dá»±a theo frontend vÃ  database thá»±c táº¿
- âœ… **Dá»… hiá»ƒu:** Má»—i diagram táº­p trung 1 khÃ­a cáº¡nh

---

## ðŸ“ DANH SÃCH FILE (11 files)

### 1ï¸âƒ£ USE CASE DIAGRAM (1 file)

| File | MÃ´ táº£ | Actors | UC | DÃ¹ng khi nÃ o |
|------|-------|--------|-----|--------------|
| **usecase.puml** | Tá»•ng quan chá»©c nÄƒng | 4 | 19 | PhÃ¢n tÃ­ch yÃªu cáº§u |

**4 Actors:**
- Customer (9 UC), Teller (4 UC)
- Loan Officer (4 UC), Admin (3 UC)

### 2ï¸âƒ£ ER DIAGRAM (1 file)

| File | MÃ´ táº£ | Tables | DÃ¹ng khi nÃ o |
|------|-------|--------|--------------|
| **er.puml** | Database schema | 10 | Thiáº¿t káº¿ DB |

**10 Entities chÃ­nh:**
- Branches, Employees, Customers
- Accounts, Transactions, Cards
- SavingsDeposits, Loans, Collaterals, CreditScores

### 3ï¸âƒ£ CLASS DIAGRAM (1 file)

| File | MÃ´ táº£ | Classes | DÃ¹ng khi nÃ o |
|------|-------|---------|--------------|
| **class.puml** | OOP structure | 10 | Thiáº¿t káº¿ OOP |

**10 Classes vá»›i methods:**
- Customer, Employee, Account, Transaction
- SavingsDeposit, Loan, Collateral, CreditScore
- Branch, Card

### 4ï¸âƒ£ SEQUENCE DIAGRAMS (8 files)

Má»—i file = 1 nghiá»‡p vá»¥ = 1 chá»©c nÄƒng trÃªn frontend.

| # | File | Nghiá»‡p vá»¥ | Actor | BÆ°á»›c | Frontend |
|---|------|-----------|-------|------|----------|
| 01 | **01-mo-tai-khoan.puml** | Má»Ÿ TK má»›i | Teller | 12 | teller/NewAccount |
| 02 | **02-nap-tien.puml** | Náº¡p tiá»n | Teller | 10 | teller/Deposit |
| 03 | **03-rut-tien.puml** | RÃºt tiá»n | Teller | 12 | teller/Withdraw |
| 04 | **04-chuyen-khoan.puml** | Chuyá»ƒn khoáº£n | Customer | 15 | customer/Transfer |
| 05 | **05-mo-tiet-kiem.puml** | Má»Ÿ sá»• TK | Customer | 13 | customer/Savings |
| 06 | **06-dang-ky-vay.puml** | ÄÄƒng kÃ½ vay | Customer | 18 | customer/LoanApplication |
| 07 | **07-tham-dinh-vay.puml** | Tháº©m Ä‘á»‹nh vay | Loan Officer | 25 | loanOfficer/PendingLoans |
| 08 | **08-kich-hoat-the.puml** | KÃ­ch hoáº¡t tháº» | Teller | 11 | teller/CardActivation |

**Äáº·c Ä‘iá»ƒm:**
- âœ… Transaction handling (BEGIN, COMMIT, ROLLBACK)
- âœ… Validation vÃ  error handling
- âœ… TÃ­nh toÃ¡n thá»±c táº¿ (LTV, Credit Score, Interest)
- âœ… Mapping 1-1 vá»›i frontend components

---

## ðŸ’¡ Táº I SAO GIáº¢M Tá»ª 20+ XUá»NG 11 FILES?

### âŒ ÄÃ£ xÃ³a (khÃ´ng cáº§n thiáº¿t):

**Activity Diagrams (11 files):**
- QuÃ¡ chi tiáº¿t, dÃ i dÃ²ng (30-50 dÃ²ng/file)
- Sequence diagrams Ä‘Ã£ cover Ä‘á»§ luá»“ng xá»­ lÃ½
- KhÃ³ maintain vÃ  cáº­p nháº­t

**State Diagrams (2 files):**
- ÄÆ¡n giáº£n, khÃ´ng cáº§n thiáº¿t cho bÃ¡o cÃ¡o
- Status Ä‘Ã£ cÃ³ trong ER diagram

**Architecture Diagrams (3 files):**
- Component, Deployment, Package
- Backend chÆ°a triá»ƒn khai â†’ khÃ´ng cáº§n thiáº¿t

### âœ… Giá»¯ láº¡i (cáº§n thiáº¿t):

**Use Case (1 file):**
- Hiá»ƒn thá»‹ tá»•ng quan chá»©c nÄƒng há»‡ thá»‘ng
- Cáº§n thiáº¿t cho pháº§n phÃ¢n tÃ­ch yÃªu cáº§u

**ER Diagram (1 file):**
- Hiá»ƒn thá»‹ cáº¥u trÃºc database thá»±c táº¿
- Mapping vá»›i `/database/schema_recommended.sql`

**Class Diagram (1 file):**
- Hiá»ƒn thá»‹ OOP design
- Cáº§n cho pháº§n thiáº¿t káº¿ há»‡ thá»‘ng

**Sequence Diagrams (8 files):**
- Chi tiáº¿t luá»“ng xá»­ lÃ½ tá»«ng nghiá»‡p vá»¥
- Mapping vá»›i frontend components
- CÃ³ transaction handling thá»±c táº¿

---

## ðŸš€ CÃCH Sá»¬ Dá»¤NG

### ðŸ“± Online (Khuyáº¿n nghá»‹ - Nhanh nháº¥t)
1. Truy cáº­p: https://www.plantuml.com/plantuml/uml/
2. Copy ná»™i dung file `.puml`
3. Paste vÃ o editor
4. Xem ngay! (Tá»± Ä‘á»™ng render)
5. Download PNG/SVG/PDF

### ðŸ’» VS Code
1. CÃ i extension: **"PlantUML"** by jebbs
2. Má»Ÿ file `.puml`
3. Press `Alt + D` Ä‘á»ƒ preview
4. Export: `Ctrl + Shift + P` â†’ "PlantUML: Export Current Diagram"

### ðŸ–¥ï¸ IntelliJ IDEA / WebStorm
1. CÃ i plugin: **"PlantUML integration"**
2. Má»Ÿ file `.puml`
3. Preview tá»± Ä‘á»™ng hiá»‡n bÃªn pháº£i
4. Right-click â†’ "Save Diagram"

---

## ðŸ“ FILE NÃ€O DÃ™NG KHI NÃ€O?

### ðŸ“„ BÃ¡o cÃ¡o Ä‘á»“ Ã¡n - Pháº§n PhÃ¢n tÃ­ch:
```
âœ… usecase.puml          (PhÃ¢n tÃ­ch yÃªu cáº§u chá»©c nÄƒng)
```

### ðŸ“„ BÃ¡o cÃ¡o Ä‘á»“ Ã¡n - Pháº§n Thiáº¿t káº¿ DB:
```
âœ… er.puml               (Thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u)
```

### ðŸ“„ BÃ¡o cÃ¡o Ä‘á»“ Ã¡n - Pháº§n Thiáº¿t káº¿ OOP:
```
âœ… class.puml            (Thiáº¿t káº¿ classes vÃ  methods)
```

### ðŸ“„ BÃ¡o cÃ¡o Ä‘á»“ Ã¡n - Pháº§n Thiáº¿t káº¿ Chi tiáº¿t:
Chá»n 3-4 sequence diagrams Ä‘á»ƒ trÃ¬nh bÃ y:
```
âœ… sequence/01-mo-tai-khoan     (Luá»“ng Teller - Ä‘Æ¡n giáº£n)
âœ… sequence/04-chuyen-khoan     (Luá»“ng Customer - transaction)
âœ… sequence/06-dang-ky-vay      (Luá»“ng Customer - LTV)
âœ… sequence/07-tham-dinh-vay    (Luá»“ng Loan Officer - phá»©c táº¡p)
```

### ðŸ’» Developer - Implement code:
```
âœ… er.puml                      (Database schema)
âœ… class.puml                   (Class structure)
âœ… sequence/*.puml              (Business logic)
```

### ðŸ“Š Presentation - Demo:
```
âœ… usecase.puml                 (Slide 1: Chá»©c nÄƒng)
âœ… sequence/02-nap-tien         (Slide 2: Luá»“ng Ä‘Æ¡n giáº£n)
âœ… sequence/07-tham-dinh-vay    (Slide 3: Luá»“ng phá»©c táº¡p)
```

---

## ðŸ“– Lá»˜ TRÃŒNH Há»ŒC

### ðŸŽ“ Level 1: CÆ¡ báº£n (30 phÃºt)
Hiá»ƒu tá»•ng quan há»‡ thá»‘ng:
```
1. usecase.puml                 (Chá»©c nÄƒng há»‡ thá»‘ng)
2. er.puml                      (Cáº¥u trÃºc database)
3. sequence/02-nap-tien         (Luá»“ng Ä‘Æ¡n giáº£n nháº¥t)
```

### ðŸŽ“ Level 2: Trung bÃ¬nh (1-2 giá»)
Hiá»ƒu chi tiáº¿t nghiá»‡p vá»¥:
```
1. class.puml                   (OOP design)
2. sequence/01-mo-tai-khoan     (Má»Ÿ TK: Validation)
3. sequence/03-rut-tien         (RÃºt tiá»n: Check balance)
4. sequence/04-chuyen-khoan     (Transfer: Transaction)
5. sequence/05-mo-tiet-kiem     (Savings: Interest calc)
```

### ðŸŽ“ Level 3: NÃ¢ng cao (3-4 giá»)
Hiá»ƒu toÃ n bá»™ há»‡ thá»‘ng:
```
1. sequence/06-dang-ky-vay      (Loan: LTV calculation)
2. sequence/07-tham-dinh-vay    (Assessment: Credit score + Approval)
3. sequence/08-kich-hoat-the    (Card activation)
4. Mapping vá»›i frontend code
```

---

## ðŸ’¼ MAPPING Vá»šI PROJECT

### ðŸ“‚ Frontend Components â†’ Sequence Diagrams

| Component Path | Diagram | Nghiá»‡p vá»¥ |
|----------------|---------|-----------|
| `teller/NewAccount.jsx` | 01-mo-tai-khoan | Má»Ÿ TK má»›i |
| `teller/Deposit.jsx` | 02-nap-tien | Náº¡p tiá»n |
| `teller/Withdraw.jsx` | 03-rut-tien | RÃºt tiá»n |
| `customer/Transfer.jsx` | 04-chuyen-khoan | Chuyá»ƒn khoáº£n |
| `customer/Savings.jsx` | 05-mo-tiet-kiem | Gá»­i tiáº¿t kiá»‡m |
| `customer/LoanApplication.jsx` | 06-dang-ky-vay | ÄÄƒng kÃ½ vay |
| `loanOfficer/PendingLoans.jsx` | 07-tham-dinh-vay | Tháº©m Ä‘á»‹nh vay |
| `teller/CardActivation.jsx` | 08-kich-hoat-the | KÃ­ch hoáº¡t tháº» |

### ðŸ“‚ Database â†’ ER Diagram

```
/database/schema_recommended.sql
    â†“
diagrams/er.puml
    â†“
10 entities chÃ­nh (tá»« 19 tables)
```

---

## âœ… Æ¯U ÄIá»‚M VERSION 3.0

| TiÃªu chÃ­ | Version 2.0 | Version 3.0 |
|----------|-------------|-------------|
| **Sá»‘ file** | 20+ | 11 |
| **Äá»™ phá»©c táº¡p** | Cao | ÄÆ¡n giáº£n |
| **DÃ i dÃ²ng** | CÃ³ | KhÃ´ng |
| **Dá»±a thá»±c táº¿** | Má»™t pháº§n | 100% |
| **Mapping frontend** | KhÃ´ng | CÃ³ |
| **Transaction handling** | CÆ¡ báº£n | Äáº§y Ä‘á»§ |
| **Dá»… hiá»ƒu** | Trung bÃ¬nh | Cao |
| **Dá»… maintain** | KhÃ³ | Dá»… |

---

## ðŸŽ¯ HIGHLIGHT FEATURES

### ðŸ’° TÃ­nh toÃ¡n thá»±c táº¿:

**LTV Ratio (Loan-to-Value):**
```
LTV = (Loan Amount / Collateral Value) Ã— 100%
Example: 500M / 800M Ã— 100% = 62.5%
```

**Credit Score Calculation:**
```
Factors:
- Income level (30%)
- Debt-to-Income ratio (25%)
- Payment history (20%)
- Credit utilization (15%)
- Credit age (10%)

Score: 400-800
Grade: AAA, AA, A, BBB, BB, B, CCC, CC, C, D
```

**Interest Calculation:**
```
Simple Interest: P Ã— r Ã— t
Compound Interest: P Ã— (1 + r)^t - P
Monthly Payment: P Ã— [r(1+r)^n] / [(1+r)^n - 1]
```

### ðŸ”’ Transaction Handling:

```sql
BEGIN TRANSACTION;
  -- Check balance
  SELECT balance FROM Accounts WHERE account_id = ?;
  
  -- Update balances
  UPDATE Accounts SET balance = balance - ? WHERE account_id = from_account;
  UPDATE Accounts SET balance = balance + ? WHERE account_id = to_account;
  
  -- Log transaction
  INSERT INTO Transactions (...) VALUES (...);
  
COMMIT; -- or ROLLBACK if error
```

---

## ðŸ“Š SO SÃNH PHIÃŠN Báº¢N

### Version 1.0 (CÅ©):
- âŒ File quÃ¡ dÃ i (200-400 dÃ²ng)
- âŒ Syntax errors nhiá»u
- âŒ KhÃ´ng thá»±c táº¿
- âŒ KhÃ³ Ä‘á»c

### Version 2.0 (TrÆ°á»›c Ä‘Ã¢y):
- âœ… Chia nhá» activity diagrams
- âœ… KhÃ´ng syntax error
- âš ï¸ Váº«n cÃ²n nhiá»u file khÃ´ng cáº§n thiáº¿t
- âš ï¸ ChÆ°a mapping vá»›i frontend

### Version 3.0 (Hiá»‡n táº¡i):
- âœ… Ngáº¯n gá»n (11 files)
- âœ… Dá»±a 100% theo thá»±c táº¿
- âœ… Mapping vá»›i frontend
- âœ… Transaction handling Ä‘áº§y Ä‘á»§
- âœ… TÃ­nh toÃ¡n thá»±c táº¿ (LTV, Credit Score)

---

## ðŸ†˜ TROUBLESHOOTING

### â“ KhÃ´ng xem Ä‘Æ°á»£c diagram?
**Giáº£i phÃ¡p:**
1. DÃ¹ng PlantUML Online (khuyáº¿n nghá»‹)
2. Kiá»ƒm tra internet connection
3. Copy toÃ n bá»™ ná»™i dung file (bao gá»“m @startuml vÃ  @enduml)

### â“ Lá»—i syntax?
**Giáº£i phÃ¡p:**
- Táº¥t cáº£ files Ä‘Ã£ test âœ…
- Náº¿u gáº·p lá»—i, kiá»ƒm tra copy Ä‘áº§y Ä‘á»§ chÆ°a

### â“ File quÃ¡ phá»©c táº¡p?
**Giáº£i phÃ¡p:**
- Báº¯t Ä‘áº§u vá»›i file Ä‘Æ¡n giáº£n: `sequence/02-nap-tien.puml`
- Äá»c tá»« trÃªn xuá»‘ng dÆ°á»›i
- Hiá»ƒu tá»«ng bÆ°á»›c má»™t

### â“ KhÃ´ng hiá»ƒu notation?
**Giáº£i phÃ¡p:**
- Xem: http://plantuml.com/sequence-diagram
- CÃ¡c kÃ½ hiá»‡u cÆ¡ báº£n:
  - `->` : Message call
  - `-->` : Return message
  - `alt` : Alternative (if-else)
  - `loop` : Loop
  - `note` : Comment

---

## ðŸ“š TÃ€I LIá»†U THAM KHáº¢O

**Project docs:**
- `/frontend/TINH_NANG_CHI_TIET.md` - Chi tiáº¿t chá»©c nÄƒng
- `/database/schema_recommended.sql` - Database schema
- `/docs/` - TÃ i liá»‡u nghiá»‡p vá»¥

**PlantUML docs:**
- http://plantuml.com/guide - Official guide
- http://plantuml.com/sequence-diagram - Sequence diagram
- http://plantuml.com/class-diagram - Class diagram
- http://plantuml.com/er-diagram - ER diagram

---

**Táº¥t cáº£ file Ä‘Ã£ test vÃ  hoáº¡t Ä‘á»™ng tá»‘t! âœ…**

*Updated: 01/11/2025*  
*Version: 3.0 - Simplified & Real-world Based*

# BÁO CÁO ĐỒ ÁN
# HỆ THỐNG QUẢN LÝ NGÂN HÀNG

---

## I. TỔNG QUAN

### 1. Giới thiệu hệ thống

#### 1.1. Bối cảnh

Trong bối cảnh chuyển đổi số toàn diện của ngành ngân hàng năm 2025, việc xây dựng một hệ thống quản lý ngân hàng hiện đại trở thành yêu cầu cấp thiết. Khách hàng ngày càng mong muốn thực hiện các giao dịch tài chính một cách nhanh chóng, tiện lợi và an toàn thông qua các nền tảng số.

Nhiều ngân hàng, đặc biệt là các ngân hàng quy mô vừa và nhỏ, đang phải đối mặt với những thách thức:

- **Hệ thống cũ phân mảnh**: Thông tin và quy trình nghiệp vụ bị tách rời giữa các phòng ban và chi nhánh, gây khó khăn trong việc quản lý và kiểm soát
- **Thời gian xử lý chậm**: Khách hàng phải đến chi nhánh nhiều lần cho các nghiệp vụ khác nhau, thời gian chờ đợi lâu
- **Rủi ro cao**: Khó kiểm soát rủi ro tín dụng, dễ xảy ra sai sót trong quy trình thủ công
- **Chi phí vận hành cao**: Nhiều công việc thủ công, tốn nhiều thời gian và nhân lực
- **Khả năng cạnh tranh thấp**: Khó cạnh tranh với các ngân hàng số đã có hệ thống hiện đại

#### 1.2. Giới thiệu hệ thống

Hệ thống Quản lý Ngân hàng là một ứng dụng web toàn diện được thiết kế để quản lý và vận hành các hoạt động nghiệp vụ cốt lõi của một ngân hàng thương mại. Hệ thống được xây dựng với kiến trúc client-server, sử dụng công nghệ web hiện đại nhằm đảm bảo tính linh hoạt, khả năng mở rộng và trải nghiệm người dùng tối ưu.

Hệ thống cung cấp các chức năng từ quản lý khách hàng, tài khoản, giao dịch, cho đến các sản phẩm tín dụng và tiết kiệm. Với 4 module chính phục vụ các đối tượng người dùng khác nhau, hệ thống đáp ứng đầy đủ nhu cầu của một ngân hàng thương mại hiện đại.

#### 1.3. Giá trị mang lại

Dự án này được thực hiện nhằm xây dựng một Hệ thống Quản lý Ngân hàng tích hợp giúp:

- **Tự động hóa các nghiệp vụ ngân hàng cốt lõi**: Giảm thiểu công việc thủ công, tăng hiệu quả xử lý
- **Cung cấp trải nghiệm khách hàng hiện đại và liền mạch**: Giao dịch 24/7, thao tác đơn giản, phản hồi nhanh
- **Tăng cường kiểm soát rủi ro và bảo mật**: Hệ thống điểm tín dụng tự động, kiểm soát chặt chẽ giao dịch
- **Tối ưu hóa vận hành và giảm chi phí**: Giảm thời gian xử lý, giảm sai sót, tối ưu nguồn lực
- **Nâng cao khả năng cạnh tranh trên thị trường**: Hệ thống số hiện đại, đáp ứng xu hướng chuyển đổi số

### 2. Mục tiêu

#### 2.1. Mục tiêu chung

Xây dựng hệ thống quản lý ngân hàng toàn diện, hiện đại, đáp ứng đầy đủ các nghiệp vụ cốt lõi của một ngân hàng thương mại, từ quản lý khách hàng, tài khoản, giao dịch đến tín dụng và tiết kiệm.

#### 2.2. Mục tiêu cụ thể

**Đối với khách hàng:**

- Mở tài khoản và đăng ký sản phẩm tài chính trực tuyến dễ dàng, nhanh chóng
- Thực hiện giao dịch 24/7 (chuyển khoản, thanh toán, nạp/rút tiền) mọi lúc, mọi nơi
- Theo dõi tài khoản, lịch sử giao dịch theo thời gian thực, minh bạch và rõ ràng
- Quản lý tiết kiệm và khoản vay một cách thuận tiện, tự chủ
- Giảm thời gian chờ đợi và tăng sự hài lòng với dịch vụ ngân hàng

**Đối với nghiệp vụ:**

- Tự động hóa các giao dịch thông thường, giảm thiểu thao tác thủ công
- Giảm thời gian xử lý hồ sơ vay từ nhiều ngày xuống còn 2-3 ngày
- Tự động tính lãi tiết kiệm và vay theo tháng, chính xác và kịp thời
- Cảnh báo tự động khi đến hạn thanh toán hoặc đáo hạn, giúp quản lý hiệu quả
- Quản lý đồng bộ dữ liệu giữa các chi nhánh, đảm bảo tính nhất quán

**Đối với quản lý:**

- Giám sát theo thời gian thực tình hình hoạt động của từng chi nhánh
- Báo cáo tự động về doanh số, nợ xấu, thanh khoản, hỗ trợ ra quyết định
- Phân tích hành vi khách hàng để đưa ra chính sách phù hợp
- Kiểm soát chặt chẽ rủi ro tín dụng thông qua hệ thống điểm tín dụng tự động

### 3. Phạm vi

#### 3.1. Phạm vi chức năng

Hệ thống bao gồm 4 module chính phục vụ các đối tượng người dùng khác nhau:

**1. Module Khách hàng (Customer Portal):**

- Quản lý tài khoản cá nhân: Xem danh sách tài khoản, số dư, cập nhật thông tin
- Thực hiện giao dịch: Chuyển khoản nội bộ, liên ngân hàng, xem lịch sử giao dịch
- Quản lý tiết kiệm: Mở sổ tiết kiệm, xem lãi dự kiến, xử lý đáo hạn (rút tiền, tái tục)
- Quản lý vay vốn: Đăng ký khoản vay, đăng ký tài sản thế chấp, xem tỷ lệ LTV, theo dõi tiến trình, xem lịch trả nợ
- Quản lý tài sản: Xem tổng quan tài sản, theo dõi điểm tín dụng, phân tích thu chi
- Nhận thông báo: Thông báo giao dịch, nhắc nhở đến hạn trả nợ, thông báo đáo hạn tiết kiệm

**2. Module Giao dịch viên (Teller Portal):**

- Quản lý khách hàng: Đăng ký khách hàng mới, tra cứu thông tin, cập nhật thông tin
- Quản lý tài khoản: Mở tài khoản mới (quy trình 3 bước), đóng tài khoản, đóng băng/mở băng tài khoản
- Xử lý giao dịch tại quầy: Nạp tiền (3 bước), rút tiền (3 bước), chuyển khoản, in biên lai
- Quản lý thẻ ngân hàng: Kích hoạt thẻ (3 bước), khóa thẻ, làm lại thẻ
- Quản lý tiết kiệm: Mở sổ tiết kiệm, xử lý đáo hạn, xử lý rút trước hạn

**3. Module Nhân viên Tín dụng (Loan Officer Portal):**

- Quản lý hồ sơ vay: Xem danh sách hồ sơ chờ thẩm định, xem chi tiết, kiểm tra tính đầy đủ
- Thẩm định khoản vay (quy trình 4 bước):
  - Bước 1: Xem thông tin hồ sơ và điểm tín dụng
  - Bước 2: Đánh giá tín dụng với tính toán tự động (điểm 400-800, phân loại AAA-D)
  - Bước 3: Thẩm định tài sản với tính LTV tự động
  - Bước 4: Quyết định phê duyệt/từ chối
- Quản lý tài sản thế chấp: Xem danh sách, thẩm định và định giá, cập nhật giá trị
- Theo dõi và xử lý nợ: Xem danh sách khoản vay, phân loại nợ quá hạn (4 mức độ), xử lý đáo hạn

**4. Module Quản trị viên (Admin Portal):**

- Quản lý chi nhánh (3 chế độ): LIST (xem danh sách), CREATE (thêm mới), EDIT (chỉnh sửa)
- Quản lý nhân viên: Xem danh sách theo chi nhánh, tạo tài khoản, cập nhật thông tin, phân quyền
- Cấu hình hệ thống: Cấu hình lãi suất, phí giao dịch, hạn mức, tỷ lệ LTV
- Báo cáo tổng hợp: Dashboard tổng quan, so sánh chi nhánh, báo cáo doanh thu, phân tích xu hướng

#### 3.2. Các nghiệp vụ chính được triển khai

**1. Quản lý khách hàng và tài khoản:**
   - Đăng ký và xác thực khách hàng
   - Mở và quản lý các loại tài khoản: thanh toán và tiết kiệm
   - Phát hành và quản lý thẻ: thẻ ghi nợ và thẻ tín dụng

**2. Giao dịch ngân hàng:**
   - Nạp tiền và rút tiền tại quầy
   - Chuyển khoản nội bộ và liên ngân hàng
   - Thanh toán hóa đơn (trong thiết kế)

**3. Quản lý tiết kiệm:**
   - Mở sổ tiết kiệm với các kỳ hạn khác nhau (1, 3, 6, 12, 24 tháng)
   - Tính lãi tự động theo kỳ hạn
   - Xử lý đáo hạn: rút tiền, tái tục gốc, tái tục gốc và lãi
   - Rút trước hạn với lãi suất điều chỉnh

**4. Quản lý vay vốn:**
   - Đăng ký khoản vay với tài sản thế chấp
   - Thẩm định hồ sơ dựa trên điểm tín dụng và tỷ lệ LTV
   - Phê duyệt và giải ngân
   - Quản lý lịch trả nợ định kỳ
   - Xử lý nợ quá hạn và đáo hạn khoản vay

**5. Quản lý tài sản thế chấp:**
   - Đăng ký và thẩm định tài sản
   - Tính toán tỷ lệ LTV (Loan-to-Value)
   - Quản lý trạng thái sử dụng tài sản

**6. Quản lý thẻ ngân hàng:**
   - Phát hành thẻ ghi nợ và thẻ tín dụng
   - Kích hoạt thẻ tại quầy
   - Quản lý hạn mức và giao dịch thẻ

**7. Quản lý chi nhánh và nhân viên:**
   - Quản lý thông tin chi nhánh
   - Quản lý nhân viên theo vai trò
   - Phân quyền truy cập hệ thống

**8. Báo cáo và thống kê:**
   - Tổng quan hoạt động theo chi nhánh
   - Báo cáo tín dụng và huy động
   - Phân tích hiệu quả kinh doanh

#### 3.3. Đối tượng sử dụng hệ thống

Hệ thống được thiết kế cho 4 nhóm người dùng chính với các vai trò và quyền hạn khác nhau:

**1. Khách hàng (Customer):**
   - Cá nhân có nhu cầu sử dụng dịch vụ ngân hàng
   - Doanh nghiệp cần dịch vụ tài chính
   - Truy cập qua giao diện web, thực hiện các giao dịch tự phục vụ

**2. Nhân viên Giao dịch (Teller):**
   - Xử lý giao dịch tại quầy
   - Hỗ trợ khách hàng mở tài khoản
   - Xử lý nạp/rút tiền mặt
   - Kích hoạt thẻ ngân hàng

**3. Nhân viên Tín dụng (Loan Officer):**
   - Tiếp nhận và thẩm định hồ sơ vay
   - Đánh giá khả năng trả nợ của khách hàng
   - Thẩm định tài sản thế chấp
   - Phê duyệt hoặc từ chối khoản vay
   - Theo dõi quá trình trả nợ và xử lý nợ quá hạn

**4. Quản trị viên (Administrator):**
   - Quản lý người dùng và phân quyền
   - Quản lý chi nhánh và nhân viên
   - Cấu hình lãi suất, phí dịch vụ
   - Xem báo cáo tổng hợp toàn hệ thống

#### 3.4. Phạm vi kỹ thuật

**Frontend:**
- Framework: React 18 với Vite 7.1.7
- Ngôn ngữ: JavaScript/JSX
- Thư viện: React Router DOM 7.9.4, Recharts 3.3.0, Lucide React
- Giao diện: Responsive design, hỗ trợ nhiều thiết bị

**Backend:**
- API: RESTful API (trong thiết kế)
- Framework: Spring Boot hoặc Node.js + Express (dự kiến)
- Authentication: JWT Token
- Database: MySQL 8.0 với InnoDB engine

**Database:**
- Hệ quản trị: MySQL 8.0
- Engine: InnoDB (hỗ trợ transaction, foreign key)
- Character Set: utf8mb4 (hỗ trợ Unicode đầy đủ)
- Schema: 21 bảng (19 bảng chính + 2 bảng lịch sử)

**Bảo mật:**
- Authentication và Authorization theo vai trò (RBAC)
- Mã hóa password bằng bcrypt
- Mã hóa thông tin nhạy cảm (số thẻ, CMND)
- HTTPS cho tất cả requests

#### 3.5. Ngoài phạm vi

**Tích hợp hệ thống bên ngoài:**
- Tích hợp với ngân hàng khác (chỉ mô phỏng)
- Xử lý giao dịch thực tế qua cổng thanh toán (trong giai đoạn phát triển tiếp theo)
- Kết nối với Trung tâm thông tin tín dụng (CIC) - trong kế hoạch phát triển
- Xử lý biometric/sinh trắc học - chưa triển khai

**Tính năng nâng cao:**
- Ứng dụng di động native (iOS/Android) - trong kế hoạch phát triển
- Chatbot hỗ trợ khách hàng - trong kế hoạch phát triển
- Machine Learning cho credit scoring - trong kế hoạch phát triển
- Blockchain cho hợp đồng thông minh - trong kế hoạch phát triển

**Tuân thủ và chứng nhận:**
- PCI DSS (Payment Card Industry Data Security Standard) - chưa đạt
- ISO 27001 (Information Security Management) - chưa đạt
- GDPR compliance - chưa triển khai (nếu có khách quốc tế)

---

## Kết luận phần TỔNG QUAN

Hệ thống Quản lý Ngân hàng được thiết kế và phát triển nhằm đáp ứng nhu cầu chuyển đổi số của ngành ngân hàng, cung cấp một giải pháp toàn diện cho việc quản lý và vận hành các nghiệp vụ ngân hàng cốt lõi. Với 4 module chính phục vụ 4 nhóm người dùng khác nhau, hệ thống đáp ứng đầy đủ các yêu cầu từ quản lý khách hàng, tài khoản, giao dịch đến tín dụng và tiết kiệm.

Hệ thống được xây dựng trên nền tảng công nghệ hiện đại, đảm bảo tính linh hoạt, khả năng mở rộng và bảo mật cao. Với mục tiêu rõ ràng và phạm vi được xác định cụ thể, hệ thống có tiềm năng phát triển thành một giải pháp quản lý ngân hàng hoàn chỉnh và cạnh tranh trên thị trường.

---

## II. XÁC ĐỊNH YÊU CẦU

### 1. Khảo sát hệ thống

#### 1.1. Phương pháp nghiên cứu thực tiễn

Để xây dựng hệ thống quản lý ngân hàng phù hợp với thực tế, nhóm nghiên cứu đã áp dụng các phương pháp nghiên cứu thực tiễn sau:

**Phương pháp thu thập thông tin:**

1. **Phỏng vấn chuyên gia:**
   - Trao đổi với nhân viên ngân hàng về quy trình nghiệp vụ thực tế
   - Tìm hiểu về các sản phẩm dịch vụ phổ biến trong ngân hàng
   - Nghiên cứu các quy định về tín dụng và tiết kiệm từ Ngân hàng Nhà nước
   - Tham khảo ý kiến từ các chuyên gia về quản lý rủi ro tín dụng

2. **Quan sát thực tế:**
   - Quan sát quy trình làm việc tại quầy giao dịch ngân hàng
   - Theo dõi luồng xử lý hồ sơ vay từ tiếp nhận đến phê duyệt
   - Tìm hiểu cách thức phục vụ khách hàng và xử lý giao dịch
   - Nghiên cứu quy trình thẩm định tài sản thế chấp

3. **Nghiên cứu tài liệu:**
   - Nghiên cứu các hệ thống ngân hàng hiện có trên thị trường
   - Tham khảo tài liệu về banking domain và best practices
   - Tìm hiểu về credit scoring và risk management
   - Nghiên cứu các tiêu chuẩn bảo mật trong ngân hàng (PCI DSS, ISO 27001)

4. **Phân tích yêu cầu:**
   - Xác định các actor và use case chính của hệ thống
   - Phân tích luồng nghiệp vụ cho từng chức năng
   - Xác định các ràng buộc và quy tắc nghiệp vụ
   - Đối chiếu với quy định của Ngân hàng Nhà nước

#### 1.2. Phương pháp tổng hợp và phân tích số liệu

Để đảm bảo hệ thống đáp ứng đúng nhu cầu thực tế, nhóm đã thực hiện tổng hợp và phân tích số liệu theo quy trình sau:

**Quy trình phân tích:**

1. **Thu thập và phân loại dữ liệu:**
   - Phân loại theo nghiệp vụ: Khách hàng, Tài khoản, Giao dịch, Tín dụng, Tiết kiệm
   - Xác định mối quan hệ giữa các đối tượng nghiệp vụ
   - Lập danh sách các quy tắc và ràng buộc nghiệp vụ
   - Thu thập dữ liệu mẫu về giao dịch, khoản vay, tiết kiệm

2. **Mô hình hóa nghiệp vụ:**
   - Sử dụng UML để mô hình hóa hệ thống
   - Xây dựng use case diagram để xác định chức năng
   - Thiết kế class diagram để xác định cấu trúc dữ liệu
   - Tạo activity diagram cho các quy trình nghiệp vụ phức tạp
   - Xây dựng state diagram cho các entity quan trọng

3. **Xác thực và đánh giá:**
   - Đối chiếu với các hệ thống thực tế
   - Xem xét tính khả thi và hiệu quả
   - Điều chỉnh và tối ưu hóa dựa trên phản hồi
   - Kiểm tra tính tuân thủ với quy định ngân hàng

### 2. Phân tích hiện trạng

#### 2.1. Thực trạng nghiệp vụ ngân hàng

**Quản lý khách hàng:**
- Thông tin khách hàng cần được lưu trữ đầy đủ và bảo mật cao
- Cần có cơ chế đánh giá tín dụng khách hàng một cách chính xác
- Phân loại khách hàng theo nhiều tiêu chí (thu nhập, điểm tín dụng, lịch sử giao dịch)
- Quản lý thông tin liên hệ và cập nhật thông tin định kỳ

**Quản lý tài khoản:**
- Nhiều loại tài khoản (thanh toán, tiết kiệm) với các đặc điểm khác nhau
- Cần theo dõi số dư và lịch sử giao dịch một cách chính xác
- Quản lý thẻ ngân hàng liên kết với tài khoản (thẻ ghi nợ, thẻ tín dụng)
- Xử lý các trường hợp đóng băng, mở băng tài khoản

**Xử lý giao dịch:**
- Giao dịch nạp/rút tiền tại quầy cần được xử lý nhanh chóng
- Chuyển khoản nội bộ và liên ngân hàng với phí dịch vụ khác nhau
- Cần đảm bảo tính toàn vẹn dữ liệu (ACID) trong mọi giao dịch
- Ghi nhận đầy đủ lịch sử giao dịch để kiểm tra và đối soát

**Quản lý tín dụng:**
- Quy trình cho vay phức tạp với nhiều bước thẩm định
- Cần đánh giá khả năng trả nợ và tài sản thế chấp một cách chính xác
- Theo dõi lịch trả nợ và xử lý nợ quá hạn kịp thời
- Tính toán và cập nhật điểm tín dụng dựa trên hành vi khách hàng
- Phân loại nợ quá hạn theo các mức độ nghiêm trọng

**Quản lý tiết kiệm:**
- Nhiều kỳ hạn với lãi suất khác nhau (1, 3, 6, 12, 24 tháng)
- Xử lý đáo hạn (rút tiền, tái tục) một cách linh hoạt
- Tính lãi tự động theo kỳ hạn và phương thức nhận lãi
- Xử lý rút trước hạn với lãi suất điều chỉnh

#### 2.2. Các vấn đề cần giải quyết

Dựa trên phân tích hiện trạng, hệ thống cần giải quyết các vấn đề sau:

- **Tự động hóa quy trình thẩm định và phê duyệt vay**: Giảm thời gian xử lý từ 7 ngày xuống còn 2-3 ngày
- **Tính toán điểm tín dụng động**: Dựa trên hành vi khách hàng và lịch sử giao dịch
- **Xử lý đáo hạn tự động**: Cho sổ tiết kiệm và khoản vay với thông báo trước
- **Cảnh báo và xử lý nợ quá hạn**: Theo các mức độ nghiêm trọng (1-90 ngày, 91-180 ngày, 181-360 ngày, >360 ngày)
- **Tối ưu hóa quy trình giao dịch**: Giảm thời gian xử lý tại quầy, tăng trải nghiệm khách hàng
- **Quản lý tập trung**: Đồng bộ dữ liệu giữa các chi nhánh, báo cáo tổng hợp

### 3. Đặc tả yêu cầu

#### 3.1. Yêu cầu chức năng

##### 3.1.1. Yêu cầu chức năng theo vai trò người dùng

**A. Chức năng dành cho Khách hàng (Customer)**

**Quản lý tài khoản cá nhân:**
- Đăng nhập an toàn với xác thực hai yếu tố (2FA)
- Xem danh sách tất cả tài khoản của mình
- Xem số dư và thông tin chi tiết từng tài khoản
- Xem lịch sử giao dịch với bộ lọc theo thời gian, loại giao dịch
- Cập nhật thông tin cá nhân (địa chỉ, số điện thoại, email)

**Thực hiện giao dịch:**
- Chuyển khoản giữa các tài khoản của mình
- Chuyển khoản cho người khác trong cùng ngân hàng
- Chuyển khoản liên ngân hàng (có phí)
- Xem biên lai và xác nhận giao dịch
- Xem lịch sử giao dịch chi tiết

**Quản lý tiết kiệm:**
- Mở sổ tiết kiệm mới với các kỳ hạn khác nhau (1, 3, 6, 12, 24 tháng)
- Chọn phương thức nhận lãi (cuối kỳ, định kỳ, gộp vào gốc)
- Xem danh sách sổ tiết kiệm và lãi dự kiến
- Xử lý đáo hạn: rút tiền hoặc tái tục (gốc, gốc + lãi)
- Tính toán lãi suất khi rút trước hạn
- Xem lịch sử giao dịch tiết kiệm

**Quản lý vay vốn:**
- Đăng ký khoản vay trực tuyến với thông tin chi tiết
- Đăng ký tài sản thế chấp (bất động sản, xe, tài sản khác)
- Xem tỷ lệ LTV được tính tự động
- Theo dõi tiến trình thẩm định (chờ duyệt, đã duyệt, từ chối)
- Xem lịch trả nợ hàng tháng
- Xem lịch sử thanh toán khoản vay
- Trả nợ tự động hoặc thủ công

**Quản lý tài sản:**
- Xem tổng quan tài sản: tài khoản, tiết kiệm, vay
- Theo dõi điểm tín dụng cá nhân và lịch sử thay đổi
- Xem phân tích thu chi qua biểu đồ
- Xem tổng giá trị tài sản và nợ

**Nhận thông báo:**
- Thông báo khi có giao dịch
- Nhắc nhở đến hạn trả nợ (trước 3 ngày, 1 ngày)
- Thông báo đáo hạn tiết kiệm (trước 7 ngày)
- Thông báo kết quả thẩm định khoản vay
- Thông báo thay đổi điểm tín dụng

**B. Chức năng dành cho Nhân viên Giao dịch (Teller)**

**Quản lý khách hàng:**
- Đăng ký khách hàng mới vào hệ thống
- Tra cứu thông tin khách hàng theo nhiều tiêu chí
- Cập nhật thông tin khách hàng
- Xác minh danh tính khách hàng

**Quản lý tài khoản:**
- Mở tài khoản mới cho khách hàng (quy trình 3 bước):
  + Bước 1: Nhập thông tin cá nhân (CMND, email, số điện thoại, ngày sinh, địa chỉ)
  + Bước 2: Chọn loại tài khoản và số tiền nạp ban đầu (tối thiểu 100,000 VND)
  + Bước 3: Xác nhận và đồng ý điều khoản
- Đóng tài khoản
- Đóng băng hoặc mở băng tài khoản
- Cấp lại mật khẩu cho khách hàng

**Xử lý giao dịch tại quầy:**
- Nạp tiền (quy trình 3 bước):
  + Bước 1: Nhập số tài khoản, số tiền muốn nạp, ghi chú (nếu có)
  + Bước 2: Xác nhận số tiền và thông tin giao dịch
  + Bước 3: In biên lai giao dịch chi tiết
- Rút tiền (quy trình 3 bước):
  + Bước 1: Nhập thông tin rút tiền (số tài khoản, số tiền)
  + Bước 2: Kiểm tra số dư và hạn mức
  + Bước 3: In biên lai giao dịch
- Xử lý chuyển khoản theo yêu cầu khách hàng
- In biên lai cho mọi giao dịch

**Quản lý thẻ ngân hàng:**
- Kích hoạt thẻ (quy trình 3 bước):
  + Bước 1: Tìm kiếm thẻ theo tài khoản
  + Bước 2: Đối chiếu thông tin để xác minh
  + Bước 3: In biên nhận kích hoạt với thông tin thẻ và thời gian
- Khóa thẻ khi khách hàng yêu cầu
- Xử lý làm lại thẻ mới

**Quản lý tiết kiệm:**
- Mở sổ tiết kiệm cho khách hàng
- Xử lý đáo hạn tiết kiệm
- Xử lý rút trước hạn với tính toán lãi suất điều chỉnh

**C. Chức năng dành cho Nhân viên Tín dụng (Loan Officer)**

**Quản lý hồ sơ vay:**
- Xem danh sách hồ sơ chờ thẩm định
- Xem chi tiết từng hồ sơ vay
- Kiểm tra tính đầy đủ của hồ sơ
- Yêu cầu khách hàng bổ sung hồ sơ nếu cần

**Thẩm định khoản vay (quy trình 4 bước):**

*Bước 1: Xem thông tin hồ sơ*
- Hiển thị đầy đủ thông tin khách hàng (họ tên, CMND, thu nhập, địa chỉ)
- Xem điểm tín dụng hiện tại và phân loại (AAA, AA, A, BBB, BB, B, CCC, CC, C, D)
- Xem thông tin tài sản thế chấp (nếu có)
- Xem mục đích vay và số tiền yêu cầu

*Bước 2: Đánh giá tín dụng*
- Nhập thu nhập hàng tháng của khách hàng
- Nhập tỷ lệ nợ/thu nhập
- Hệ thống tự động tính điểm tín dụng (thang điểm 400-800)
- Phân loại tín dụng: AAA, AA, A, BBB, BB, B, CCC, CC, C, D
- Đề xuất lãi suất tự động dựa trên điểm tín dụng
- Kiểm tra điều kiện cho vay không thế chấp:
  + Điểm tín dụng >= 700
  + Thu nhập >= 15,000,000 VND/tháng
  + Tỷ lệ nợ <= 40%
  + Số tiền vay <= 200,000,000 VND

*Bước 3: Thẩm định tài sản (với khoản vay có thế chấp)*
- Kiểm tra giấy tờ pháp lý của tài sản
- Nhập giá trị thẩm định thực tế
- Hệ thống tự động tính tỷ lệ LTV = (Số tiền vay / Giá trị tài sản) × 100%
- Kiểm tra LTV có <= Max LTV cho phép (thường 70%)
- Hiển thị công thức và kết quả với mã màu (xanh: hợp lệ, đỏ: vượt quá)

*Bước 4: Quyết định cuối cùng*
- Phê duyệt: Nhập số tiền duyệt (có thể điều chỉnh), lãi suất, thời hạn
- Từ chối: Bắt buộc nhập lý do từ chối chi tiết
- Xác nhận quyết định trước khi lưu

**Quản lý tài sản thế chấp:**
- Xem danh sách tài sản đã đăng ký
- Thẩm định và định giá tài sản
- Cập nhật giá trị thẩm định
- Xác minh tính pháp lý của tài sản
- Quản lý trạng thái tài sản (Chờ duyệt, Sẵn sàng, Đang sử dụng)

**Theo dõi và xử lý nợ:**
- Xem danh sách khoản vay đang hoạt động
- Xem danh sách khoản vay đã duyệt
- Xem danh sách khoản vay bị từ chối
- Theo dõi khoản vay quá hạn với các mức độ:
  + Nợ cần chú ý (1-90 ngày)
  + Nợ dưới chuẩn (91-180 ngày)
  + Nợ nghi ngờ (181-360 ngày)
  + Nợ có khả năng mất vốn (>360 ngày)
- Gửi thông báo nhắc nhở khách hàng
- Xử lý đáo hạn khoản vay: gia hạn, tái cấu trúc, thanh toán

**Báo cáo và thống kê:**
- Lập báo cáo chất lượng tín dụng
- Thống kê tỷ lệ nợ xấu
- Phân tích hiệu quả cho vay

**D. Chức năng dành cho Quản trị viên (Administrator)**

**Quản lý chi nhánh (3 chế độ):**

*Chế độ LIST - Xem danh sách:*
- Hiển thị tất cả chi nhánh dạng thẻ (card)
- Thông tin mỗi chi nhánh: Địa chỉ, số điện thoại, email, giám đốc
- Thống kê: Số khách hàng, tổng huy động, tổng cho vay
- Nút chức năng: Chỉnh sửa và Xóa

*Chế độ CREATE - Thêm chi nhánh mới:*
- Form nhập liệu: Mã chi nhánh, tên chi nhánh, địa chỉ, số điện thoại, email
- Chọn giám đốc chi nhánh từ danh sách nhân viên
- Kiểm tra tính đầy đủ của thông tin trước khi lưu

*Chế độ EDIT - Chỉnh sửa chi nhánh:*
- Form hiển thị thông tin hiện tại
- Mã chi nhánh không được phép thay đổi
- Cập nhật các thông tin khác
- Thay đổi giám đốc chi nhánh nếu cần

**Quản lý nhân viên:**
- Xem danh sách nhân viên theo chi nhánh
- Tạo tài khoản nhân viên mới
- Cập nhật thông tin nhân viên
- Vô hiệu hóa hoặc xóa tài khoản nhân viên
- Phân quyền truy cập theo vai trò (TELLER, LOAN_OFFICER, ADMIN)
- Gán nhân viên vào chi nhánh

**Cấu hình hệ thống:**
- Cấu hình lãi suất vay theo loại hình (mua nhà, xe, tiêu dùng)
- Cấu hình lãi suất tiết kiệm theo kỳ hạn (1, 3, 6, 12, 24 tháng)
- Cấu hình phí giao dịch (chuyển khoản liên ngân hàng, phí rút tiền)
- Cấu hình hạn mức giao dịch (rút tiền tối đa, chuyển khoản tối đa)
- Cấu hình tỷ lệ LTV tối đa cho từng loại vay

**Báo cáo tổng hợp:**
- Dashboard tổng quan hệ thống:
  + Tổng số khách hàng
  + Tổng huy động tiết kiệm
  + Tổng dư nợ cho vay
  + Tổng doanh thu
- So sánh hiệu quả giữa các chi nhánh
- Báo cáo doanh thu theo thời gian (ngày, tháng, năm)
- Phân tích xu hướng tăng trưởng

##### 3.1.2. Yêu cầu về quy trình nghiệp vụ

**Quy trình mở tài khoản:**
1. Khách hàng cung cấp thông tin cá nhân và giấy tờ tùy thân (CMND/CCCD)
2. Nhân viên xác minh thông tin và nhập vào hệ thống
3. Hệ thống tạo số tài khoản duy nhất tự động
4. Khách hàng nạp tiền mở tài khoản (tối thiểu 100,000 VND)
5. Tài khoản được kích hoạt ngay lập tức
6. Hệ thống tạo tài khoản đăng nhập cho khách hàng

**Quy trình giao dịch chuyển khoản:**
1. Khách hàng nhập thông tin người nhận và số tiền
2. Hệ thống kiểm tra số dư tài khoản nguồn
3. Xác minh tài khoản đích tồn tại và đang hoạt động
4. Tính phí giao dịch (nếu chuyển liên ngân hàng)
5. Trừ tiền từ tài khoản nguồn (bao gồm phí)
6. Cộng tiền vào tài khoản đích
7. Ghi nhận giao dịch vào lịch sử
8. Gửi thông báo cho cả hai bên

**Quy trình gửi tiết kiệm:**
1. Khách hàng chọn kỳ hạn (1, 3, 6, 12, 24 tháng)
2. Nhập số tiền gửi (tối thiểu 1,000,000 VND)
3. Chọn phương thức nhận lãi (cuối kỳ, định kỳ, gộp vào gốc)
4. Hệ thống tính và hiển thị lãi dự kiến
5. Xác nhận và trừ tiền từ tài khoản thanh toán
6. Tạo sổ tiết kiệm mới với mã duy nhất
7. Gửi xác nhận cho khách hàng qua email/SMS

**Quy trình đăng ký vay:**

*Từ phía khách hàng:*
1. Điền thông tin khoản vay: số tiền, thời hạn, mục đích
2. Đăng ký tài sản thế chấp (nếu có)
3. Xem tỷ lệ LTV được tính tự động
4. Xác nhận và gửi hồ sơ

*Từ phía nhân viên tín dụng:*
1. Tiếp nhận và kiểm tra hồ sơ
2. Đánh giá điểm tín dụng của khách hàng
3. Thẩm định tài sản thế chấp (nếu có)
4. Tính toán khả năng trả nợ
5. Quyết định phê duyệt hoặc từ chối
6. Thông báo kết quả cho khách hàng
7. Tạo lịch trả nợ nếu được phê duyệt

**Quy trình xử lý đáo hạn tiết kiệm:**
1. Hệ thống tự động nhận diện sổ tiết kiệm sắp đáo hạn (trước 7 ngày)
2. Gửi thông báo cho khách hàng trước 7 ngày
3. Khách hàng chọn một trong ba phương án:
   - Rút tiền: Chuyển gốc + lãi về tài khoản thanh toán
   - Tái tục gốc: Gửi lại số tiền gốc, nhận lãi về tài khoản
   - Tái tục gốc + lãi: Gửi lại cả gốc lẫn lãi với lãi suất hiện tại
4. Nếu không có phản hồi sau 7 ngày, hệ thống tự động tái tục gốc + lãi
5. Ghi nhận giao dịch và cập nhật trạng thái

**Quy trình xử lý đáo hạn khoản vay:**
1. Hệ thống nhận diện khoản vay sắp đáo hạn (trước 30 ngày)
2. Gửi thông báo cho khách hàng trước 30 ngày
3. Khách hàng có các lựa chọn:
   - Thanh toán đầy đủ: Trả hết nợ, giải phóng tài sản thế chấp
   - Gia hạn: Kéo dài thời gian vay với lãi suất mới
   - Tái cấu trúc: Điều chỉnh lại điều kiện khoản vay
4. Nhân viên tín dụng xem xét và phê duyệt
5. Cập nhật thông tin khoản vay hoặc tạo khoản vay mới

##### 3.1.3. Yêu cầu về tính toán tự động

**Tính lãi tiết kiệm:**

*Lãi đơn (nhận lãi định kỳ):*
```
Lãi = Số tiền gốc × Lãi suất năm × Số tháng / 12
```

*Lãi kép (gộp lãi vào gốc):*
```
Tổng tiền = Số tiền gốc × (1 + Lãi suất năm / Số kỳ) ^ Số kỳ
```

*Ví dụ:*
- Gửi 100,000,000 VND
- Kỳ hạn 12 tháng
- Lãi suất 6%/năm
- Lãi nhận được: 100,000,000 × 6% × 12/12 = 6,000,000 VND

**Tính tỷ lệ LTV (Loan-to-Value):**
```
LTV = (Số tiền vay / Giá trị tài sản thẩm định) × 100%
```

*Ví dụ:*
- Giá trị tài sản: 3,000,000,000 VND
- Số tiền vay: 2,000,000,000 VND
- LTV = (2,000,000,000 / 3,000,000,000) × 100% = 66.67%

*Điều kiện:*
- Vay mua nhà: LTV <= 70%
- Vay tiêu dùng có thế chấp: LTV <= 70%
- Nếu LTV > Max LTV: tự động từ chối hoặc giảm số tiền cho vay

**Tính điểm tín dụng:**

Hệ thống tự động tính điểm tín dụng dựa trên các yếu tố:

*Các yếu tố đánh giá:*
- Thu nhập hàng tháng (30% trọng số)
- Tỷ lệ nợ/thu nhập (25% trọng số)
- Lịch sử trả nợ (25% trọng số)
- Thời gian làm việc ổn định (10% trọng số)
- Tài sản hiện có (10% trọng số)

*Thang điểm: 400 - 800 điểm*

*Phân loại:*
- 750-800: AAA (Xuất sắc) - Lãi suất thấp nhất (9%/năm)
- 700-749: AA (Rất tốt) - Lãi suất 9.5%/năm
- 650-699: A (Tốt) - Lãi suất 10%/năm
- 600-649: BBB (Khá) - Lãi suất 10.5%/năm
- 550-599: BB (Trung bình) - Lãi suất 11%/năm
- 500-549: B (Yếu) - Lãi suất 11.5%/năm
- 450-499: CCC (Rất yếu) - Lãi suất 12%/năm
- 400-449: CC (Kém) - Lãi suất 12.5%/năm
- Dưới 400: Không đủ điều kiện vay

**Tính tiền trả hàng tháng:**

*Phương pháp trả góp đều (Annuity):*
```
Tiền trả hàng tháng = Số tiền vay × [r × (1+r)^n] / [(1+r)^n - 1]
```

*Trong đó:*
- r = Lãi suất tháng = Lãi suất năm / 12
- n = Số tháng vay

*Ví dụ:*
- Vay 100,000,000 VND
- Lãi suất 12%/năm = 1%/tháng
- Thời hạn 24 tháng
- Tiền trả hàng tháng ≈ 4,707,000 VND

##### 3.1.4. Yêu cầu về bảo mật an toàn

**Xác thực người dùng:**
- Mật khẩu mạnh (tối thiểu 8 ký tự, bao gồm chữ hoa, chữ thường, số, ký tự đặc biệt)
- Xác thực hai yếu tố (2FA) cho giao dịch quan trọng (chuyển khoản lớn, đăng ký vay)
- Khóa tài khoản sau 3 lần nhập sai mật khẩu
- Hết phiên đăng nhập tự động sau 15 phút không hoạt động
- Mã hóa mật khẩu bằng bcrypt với salt

**Bảo vệ dữ liệu:**
- Mã hóa thông tin nhạy cảm (số thẻ, CMND, số tài khoản)
- Không lưu trữ mật khẩu dạng văn bản thuần (plain text)
- Mã hóa kết nối HTTPS cho tất cả giao dịch
- Sao lưu dữ liệu định kỳ (hàng ngày)
- Khôi phục dữ liệu khi có sự cố

**Kiểm soát giao dịch:**
- Ghi nhận đầy đủ mọi giao dịch (ai, làm gì, khi nào, từ đâu, IP address)
- Không cho phép số dư âm (trừ thấu chi được phê duyệt)
- Kiểm tra giao dịch bất thường (số tiền lớn, tần suất cao)
- Cảnh báo khi có hoạt động đáng ngờ
- Giới hạn số tiền giao dịch theo từng loại tài khoản
- Xác thực OTP cho giao dịch quan trọng

**Phân quyền và truy cập:**
- Role-based Access Control (RBAC): 4 vai trò chính (CUSTOMER, TELLER, LOAN_OFFICER, ADMIN)
- Mỗi vai trò có quyền truy cập khác nhau
- Kiểm tra quyền trước khi cho phép thực hiện chức năng
- Audit log cho mọi thao tác quan trọng

#### 3.2. Yêu cầu phi chức năng

##### 3.2.1. Hiệu năng (Performance)

**NFR-01: Hiệu năng**
- Thời gian phản hồi giao dịch < 2 giây
- Thời gian tải trang < 3 giây
- Hỗ trợ ít nhất 1000 user đồng thời
- Xử lý 10,000 giao dịch/giờ trong giờ cao điểm
- Thời gian query database < 500ms cho các truy vấn thông thường
- Xử lý tính toán phức tạp (điểm tín dụng, LTV) < 1 giây

##### 3.2.2. Bảo mật (Security)

**NFR-02: Bảo mật**
- Mã hóa password bằng bcrypt với salt
- Xác thực bằng JWT token với thời gian hết hạn
- Phân quyền theo vai trò (RBAC)
- Mã hóa thông tin nhạy cảm (số thẻ, CMND) bằng AES-256
- HTTPS cho tất cả requests
- Xác thực hai yếu tố (2FA) cho giao dịch quan trọng
- Rate limiting để chống brute force attack
- CORS configuration để chống CSRF

##### 3.2.3. Độ tin cậy (Reliability)

**NFR-03: Độ tin cậy**
- Uptime ≥ 99.5% (hệ thống hoạt động 24/7)
- Backup database hàng ngày
- Khôi phục dữ liệu khi có sự cố trong vòng 1 giờ
- Transaction rollback khi có lỗi
- Xử lý lỗi gracefully, không làm mất dữ liệu
- Redundancy cho các thành phần quan trọng

##### 3.2.4. Khả năng mở rộng (Scalability)

**NFR-04: Khả năng mở rộng**
- Kiến trúc module hóa, dễ dàng thêm tính năng mới
- Hỗ trợ mở rộng theo chiều ngang (horizontal scaling)
- Database có thể scale với read replicas
- Caching strategy để giảm tải database
- Load balancing cho multiple servers

##### 3.2.5. Khả năng sử dụng (Usability)

**NFR-05: Khả năng sử dụng**
- Giao diện thân thiện, trực quan, dễ sử dụng
- Responsive trên nhiều thiết bị (desktop, tablet, mobile)
- Hỗ trợ tiếng Việt đầy đủ
- Hướng dẫn sử dụng rõ ràng
- Validation và feedback ngay lập tức
- Error messages dễ hiểu
- Loading indicators cho các thao tác mất thời gian

##### 3.2.6. Tính tương thích (Compatibility)

**NFR-06: Tính tương thích**
- Hoạt động trên các trình duyệt phổ biến (Chrome, Firefox, Edge, Safari)
- Hỗ trợ mobile browser (iOS Safari, Chrome Mobile)
- Tương thích với các phiên bản trình duyệt mới nhất
- Responsive design cho nhiều kích thước màn hình

##### 3.2.7. Khả năng bảo trì (Maintainability)

**NFR-07: Khả năng bảo trì**
- Code được tổ chức rõ ràng, dễ đọc và hiểu
- Documentation đầy đủ cho code và API
- Unit tests cho các function quan trọng
- Integration tests cho các luồng nghiệp vụ
- Logging đầy đủ để debug và monitor
- Version control (Git) cho code management

##### 3.2.8. Khả năng tái sử dụng (Reusability)

**NFR-08: Khả năng tái sử dụng**
- Components có thể tái sử dụng giữa các module
- API endpoints có thể sử dụng cho nhiều mục đích
- Database schema được thiết kế để dễ mở rộng
- Business logic được tách biệt và có thể tái sử dụng

---

## Kết luận phần XÁC ĐỊNH YÊU CẦU

Phần xác định yêu cầu đã được thực hiện một cách chi tiết và toàn diện, bao gồm:

1. **Khảo sát hệ thống**: Áp dụng các phương pháp nghiên cứu thực tiễn và tổng hợp phân tích số liệu để hiểu rõ nhu cầu thực tế.

2. **Phân tích hiện trạng**: Xác định rõ các vấn đề cần giải quyết và thực trạng nghiệp vụ ngân hàng hiện tại.

3. **Đặc tả yêu cầu**: 
   - Yêu cầu chức năng được mô tả chi tiết theo từng vai trò người dùng
   - Các quy trình nghiệp vụ được định nghĩa rõ ràng
   - Công thức tính toán tự động được xác định cụ thể
   - Yêu cầu bảo mật và an toàn được đặt lên hàng đầu
   - Yêu cầu phi chức năng đảm bảo chất lượng hệ thống

Với việc xác định yêu cầu đầy đủ và chi tiết, hệ thống sẽ được phát triển đúng hướng và đáp ứng đầy đủ nhu cầu của người dùng.

---

## III. PHÂN TÍCH VÀ THIẾT KẾ HỆ THỐNG

### 1. Phân tích nhu cầu theo nghiệp vụ

#### 1.1. Nghiệp vụ giao dịch tại quầy

**Nhu cầu thực tế:**
Nhiều khách hàng, đặc biệt là người lớn tuổi, vẫn thích đến quầy giao dịch trực tiếp. Họ cần nhân viên hỗ trợ thực hiện các giao dịch như nạp tiền, rút tiền, mở tài khoản mới.

**Giải pháp:**
- Giao diện dành cho nhân viên giao dịch với các chức năng rõ ràng, dễ sử dụng
- Quy trình 3 bước cho mỗi giao dịch: Nhập thông tin → Xác nhận → In biên lai
- Tự động kiểm tra số dư và hạn mức
- In biên lai chi tiết với mã giao dịch để khách hàng theo dõi
- Gửi SMS xác nhận sau mỗi giao dịch

**Lợi ích:**
- Giảm thời gian xử lý giao dịch
- Giảm sai sót do nhập liệu thủ công
- Tăng trải nghiệm khách hàng tại quầy
- Có biên lai và SMS làm bằng chứng giao dịch

#### 1.2. Nghiệp vụ tiết kiệm

**Nhu cầu thực tế:**
Khách hàng muốn gửi tiết kiệm với lãi suất hấp dẫn nhưng cần tính toán rõ ràng số tiền lãi sẽ nhận được. Khi đáo hạn, họ cần có nhiều lựa chọn linh hoạt: rút tiền, tái tục gốc, hoặc tái tục cả gốc lẫn lãi.

**Giải pháp:**
- Form gửi tiết kiệm với các kỳ hạn rõ ràng: 1, 3, 6, 12, 24 tháng
- Tự động tính và hiển thị lãi dự kiến trước khi khách hàng xác nhận
- Hỗ trợ nhiều phương thức nhận lãi: Nhận lãi cuối kỳ, Nhận lãi định kỳ hàng tháng/quý, Gộp lãi vào gốc (lãi kép)
- Thông báo tự động trước 7 ngày khi sắp đáo hạn
- 3 lựa chọn khi đáo hạn: rút tiền, tái tục gốc, tái tục gốc + lãi
- Tự động tái tục gốc + lãi nếu khách hàng không phản hồi

**Lợi ích:**
- Khách hàng thấy rõ lợi ích trước khi gửi tiết kiệm
- Không bỏ lỡ đáo hạn nhờ thông báo tự động
- Linh hoạt trong việc xử lý tiền đáo hạn
- Tự động tái tục giúp tiền không nằm không sinh lời

#### 1.3. Nghiệp vụ vay vốn và thẩm định tín dụng

**Nhu cầu thực tế:**
Ngân hàng cần đánh giá chính xác khả năng trả nợ của khách hàng để giảm thiểu rủi ro nợ xấu. Với khoản vay có thế chấp, cần tính toán tỷ lệ LTV để đảm bảo giá trị tài sản đủ bù đắp khoản vay.

**Giải pháp:**

*Hệ thống điểm tín dụng tự động:*
- Tính điểm dựa trên thu nhập, tỷ lệ nợ/thu nhập, lịch sử tín dụng
- Phân loại từ AAA đến D
- Đề xuất lãi suất tương ứng với từng hạng điểm

*Kiểm tra tự động cho vay không thế chấp:*
- Điểm tín dụng >= 700
- Thu nhập >= 15 triệu/tháng
- Tỷ lệ nợ <= 40%
- Số tiền vay <= 200 triệu
- Từ chối tự động nếu không đáp ứng

*Tính toán LTV cho vay có thế chấp:*
- Nhân viên nhập giá trị thẩm định tài sản
- Hệ thống tự động tính LTV = (Số tiền vay / Giá trị tài sản) × 100%
- Hiển thị công thức và kết quả với mã màu
- Từ chối tự động nếu LTV > 70%

*Quy trình thẩm định 4 bước:*
1. Xem thông tin hồ sơ đầy đủ
2. Đánh giá tín dụng với tính toán tự động
3. Thẩm định tài sản với tính LTV
4. Quyết định cuối cùng: phê duyệt hoặc từ chối

**Lợi ích:**
- Giảm thời gian thẩm định từ 7 ngày xuống 2-3 ngày
- Quyết định khách quan dựa trên dữ liệu
- Giảm rủi ro nợ xấu nhờ đánh giá chính xác
- Minh bạch trong quy trình thẩm định
- Tự động từ chối các khoản vay rủi ro cao

#### 1.4. Nghiệp vụ quản lý nợ quá hạn

**Nhu cầu thực tế:**
Ngân hàng cần theo dõi chặt chẽ các khoản vay và xử lý kịp thời khi khách hàng trễ hạn thanh toán để tránh nợ xấu tích lũy.

**Giải pháp:**

*Phân loại nợ theo mức độ:*
- Nợ cần chú ý: 1-90 ngày quá hạn
- Nợ dưới chuẩn: 91-180 ngày
- Nợ nghi ngờ: 181-360 ngày
- Nợ có khả năng mất vốn: >360 ngày

*Xử lý tự động:*
- Nhắc nhở qua SMS/email trước 3 ngày đến hạn
- Gửi thông báo nhắc nhở khi quá hạn 1 ngày
- Tính lãi phạt tự động theo số ngày quá hạn
- Cảnh báo nhân viên tín dụng về các khoản nợ quá hạn
- Đề xuất hành động xử lý phù hợp với mức độ quá hạn

*Các biện pháp xử lý:*
- 1-30 ngày: Nhắc nhở qua SMS/điện thoại
- 31-90 ngày: Gặp gỡ trực tiếp, đề xuất gia hạn
- 91-180 ngày: Tái cấu trúc nợ
- >180 ngày: Xử lý tài sản thế chấp

**Lợi ích:**
- Phát hiện sớm các khoản nợ có rủi ro
- Xử lý kịp thời trước khi nợ trở thành nợ xấu
- Giảm tỷ lệ nợ xấu của ngân hàng
- Hỗ trợ khách hàng gặp khó khăn tạm thời

#### 1.5. Nghiệp vụ quản lý chi nhánh (dành cho Quản trị viên)

**Nhu cầu thực tế:**
Quản trị viên (ADMIN) cần có cái nhìn tổng quan về tất cả chi nhánh, so sánh hiệu quả hoạt động, và quản lý thông tin chi nhánh một cách dễ dàng.

**Giải pháp:**

*Giao diện quản lý 3 chế độ:*
- LIST: Hiển thị tất cả chi nhánh dạng thẻ với thống kê
- CREATE: Form thêm chi nhánh mới
- EDIT: Form chỉnh sửa thông tin chi nhánh

*Thông tin hiển thị cho mỗi chi nhánh:*
- Thông tin cơ bản: Tên, địa chỉ, liên hệ, giám đốc
- Thống kê hoạt động: Số lượng khách hàng, Tổng huy động (tiền gửi tiết kiệm), Tổng cho vay, Doanh thu trong tháng

*Dashboard tổng hợp:*
- Tổng số khách hàng toàn hệ thống
- Tổng huy động toàn hệ thống
- Tổng dư nợ cho vay
- So sánh giữa các chi nhánh
- Top chi nhánh hiệu quả nhất

**Lợi ích:**
- Quản lý tập trung tất cả chi nhánh từ một giao diện
- So sánh hiệu quả để đưa ra quyết định quản lý
- Phát hiện chi nhánh yếu kém cần hỗ trợ
- Tạo động lực cạnh tranh lành mạnh giữa các chi nhánh

### 2. Phân tích yêu cầu

#### 2.1. Mô hình hóa chức năng

**2.1.1. Biểu đồ Use Case (Use Case Diagram)**

*Sơ đồ Use Case tổng quan*

Hệ thống được mô hình hóa với 4 actor chính và các use case tương ứng:

**Actor 1: Khách hàng (Customer)**
- Use case nhóm Tài khoản: Đăng nhập, Xem tài khoản, Cập nhật hồ sơ
- Use case nhóm Giao dịch: Chuyển khoản nội bộ, Chuyển khoản liên ngân hàng, Xem lịch sử giao dịch
- Use case nhóm Tiết kiệm: Mở sổ tiết kiệm, Xem lãi dự kiến, Xử lý đáo hạn tiết kiệm, Rút trước hạn
- Use case nhóm Vay vốn: Đăng ký khoản vay, Đăng ký tài sản thế chấp, Xem lịch trả nợ, Trả nợ, Xử lý đáo hạn vay
- Use case nhóm Tín dụng: Xem điểm tín dụng, Xem lịch sử điểm

**Actor 2: Giao dịch viên (Teller)**
- Use case nhóm Khách hàng: Đăng ký khách hàng mới, Tra cứu khách hàng, Cập nhật thông tin khách hàng
- Use case nhóm Tài khoản: Mở tài khoản, Đóng tài khoản, Đóng băng/Mở băng tài khoản
- Use case nhóm Giao dịch: Nạp tiền, Rút tiền, In biên lai
- Use case nhóm Thẻ: Kích hoạt thẻ, Khóa thẻ, Làm lại thẻ
- Use case nhóm Tiết kiệm: Mở sổ tiết kiệm, Xử lý đáo hạn, Xử lý rút sớm

**Actor 3: Nhân viên Tín dụng (Loan Officer)**
- Use case nhóm Hồ sơ vay: Xem danh sách hồ sơ, Xem chi tiết hồ sơ, Yêu cầu bổ sung hồ sơ
- Use case nhóm Thẩm định: Đánh giá điểm tín dụng, Thẩm định tài sản, Tính LTV, Phê duyệt/Từ chối
- Use case nhóm Tài sản: Xem tài sản, Thẩm định tài sản, Cập nhật giá trị thẩm định
- Use case nhóm Nợ: Xem nợ quá hạn, Phân loại nợ, Xử lý nợ quá hạn, Gửi thông báo
- Use case nhóm Báo cáo: Báo cáo chất lượng tín dụng, Thống kê nợ xấu

**Actor 4: Quản trị viên (Administrator)**
- Use case nhóm Chi nhánh: Xem danh sách chi nhánh, Thêm chi nhánh, Sửa chi nhánh, Xóa chi nhánh
- Use case nhóm Nhân viên: Xem danh sách nhân viên, Thêm nhân viên, Sửa nhân viên, Phân quyền
- Use case nhóm Cấu hình: Cấu hình lãi suất, Cấu hình phí, Cấu hình hạn mức
- Use case nhóm Báo cáo: Dashboard tổng quan, So sánh chi nhánh, Báo cáo doanh thu

**Các mối quan hệ:**
- **Include**: Tất cả use case include use case "Đăng nhập"
- **Extend**: "Chuyển khoản liên ngân hàng" extend "Chuyển khoản nội bộ" (thêm tính phí)
- **Generalization**: "Mở sổ tiết kiệm" và "Đăng ký vay" là các dạng chuyên biệt của "Đăng ký sản phẩm tài chính"

**2.1.2. Biểu đồ Hoạt động (Activity Diagram)**

Hệ thống bao gồm 11 luồng hoạt động chính được mô hình hóa:

*Sơ đồ hoạt động Mở tài khoản*
- Luồng: Giao dịch viên nhập thông tin → Kiểm tra hợp lệ → Tạo tài khoản → Kích hoạt → Thông báo

*Sơ đồ hoạt động Nạp tiền*
- Luồng: Nhập thông tin → Kiểm tra tài khoản → Xác nhận số tiền → Cập nhật số dư → Ghi nhận giao dịch → In biên lai

*Sơ đồ hoạt động Rút tiền*
- Luồng: Nhập thông tin → Kiểm tra số dư → Kiểm tra hạn mức → Trừ tiền → Ghi nhận giao dịch → In biên lai

*Sơ đồ hoạt động Chuyển khoản*
- Luồng: Chọn tài khoản nguồn → Nhập thông tin người nhận → Kiểm tra số dư → Xác minh TK đích → Tính phí (nếu liên NH) → Thực hiện chuyển → Gửi thông báo

*Sơ đồ hoạt động Mở tiết kiệm*
- Luồng: Chọn kỳ hạn → Nhập số tiền → Load lãi suất → Tính lãi dự kiến → Xác nhận → Trừ tiền TK → Tạo sổ → Thông báo

*Sơ đồ hoạt động Đáo hạn tiết kiệm*
- Luồng: Hệ thống phát hiện sắp đáo hạn → Gửi thông báo (7 ngày trước) → Khách hàng chọn (Rút/Tái tục gốc/Tái tục gốc+lãi) → Xử lý theo lựa chọn → Cập nhật trạng thái

*Sơ đồ hoạt động Đăng ký vay*
- Luồng: Nhập thông tin vay → Kiểm tra có thế chấp không → (Nếu có) Đăng ký tài sản → Tính LTV → Kiểm tra điều kiện → Tạo hồ sơ → Đánh dấu tài sản

*Sơ đồ hoạt động Thẩm định vay*
- Luồng: Load hồ sơ → Bước 1: Xem thông tin → Bước 2: Đánh giá tín dụng (tính điểm, kiểm tra điều kiện) → Bước 3: Thẩm định tài sản (nếu có, tính LTV) → Bước 4: Quyết định (Phê duyệt/Từ chối) → Cập nhật trạng thái → (Nếu duyệt) Tạo lịch trả nợ

*Sơ đồ hoạt động Trả nợ hàng tháng*
- Luồng: Chọn phương thức (Tự động/Thủ công) → Kiểm tra số dư → Trừ tiền → Cập nhật lịch trả nợ → Cập nhật outstanding_balance → Cập nhật điểm tín dụng (+5 điểm) → Gửi biên lai

*Sơ đồ hoạt động Xử lý nợ quá hạn*
- Luồng: Job chạy hàng ngày → Quét các khoản vay → Kiểm tra ngày đến hạn → Phân loại theo số ngày quá hạn (1-90, 91-180, 181-360, >360) → Xử lý theo mức độ (Gửi thông báo/Giảm điểm/-5 đến -20 điểm/Can thiệp) → Cập nhật trạng thái

*Sơ đồ hoạt động Đáo hạn khoản vay*
- Luồng: Hệ thống phát hiện sắp đáo hạn → Gửi thông báo (30 ngày trước) → Khách hàng chọn (Trả hết/Gia hạn/Tái cấu trúc) → (Nếu gia hạn/tái cấu trúc) Nhân viên phê duyệt → Xử lý → Cập nhật trạng thái → Giải phóng tài sản (nếu trả hết)

*Sơ đồ hoạt động Kích hoạt thẻ*
- Luồng: Khách hàng đến quầy → Giao dịch viên tìm thẻ → Xác minh danh tính → Nhập mã kích hoạt → Kích hoạt thẻ → In biên nhận

**2.1.3. Biểu đồ Trình tự (Sequence Diagram)**

Các biểu đồ trình tự mô tả chi tiết tương tác giữa các thành phần:

*Sơ đồ trình tự Mở tài khoản*
- Tương tác: Giao dịch viên → UI → Controller → AccountService → CustomerRepository → AccountRepository → Database
- Luồng: Nhập thông tin → Validate → Kiểm tra khách hàng tồn tại → Tạo customer (nếu chưa có) → Tạo account → Tạo số tài khoản → Lưu database → Trả về kết quả

*Sơ đồ trình tự Nạp tiền*
- Tương tác: Giao dịch viên → UI → Controller → TransactionService → AccountService → Database
- Luồng: Nhập thông tin → Validate → Kiểm tra tài khoản → Cập nhật số dư → Tạo giao dịch → Lưu database → In biên lai

*Sơ đồ trình tự Rút tiền*
- Tương tác: Giao dịch viên → UI → Controller → TransactionService → AccountService → Database
- Luồng: Nhập thông tin → Validate → Kiểm tra số dư → Kiểm tra hạn mức → Trừ số dư → Tạo giao dịch → Lưu database → In biên lai

*Sơ đồ trình tự Chuyển khoản*
- Tương tác: Khách hàng → UI → Controller → TransactionService → AccountService → Database
- Luồng: Nhập thông tin → Validate → Kiểm tra TK nguồn → Kiểm tra TK đích → Kiểm tra số dư → Tính phí → Trừ TK nguồn → Cộng TK đích → Ghi nhận giao dịch → Gửi thông báo

*Sơ đồ trình tự Mở tiết kiệm*
- Tương tác: Khách hàng → UI → Controller → SavingsService → InterestRateService → AccountService → Database
- Luồng: Chọn kỳ hạn → Load lãi suất → Tính lãi dự kiến → Nhập số tiền → Validate → Kiểm tra số dư TK → Trừ tiền TK → Tạo sổ tiết kiệm → Tạo mã sổ → Lưu database

*Sơ đồ trình tự Đăng ký vay*
- Tương tác: Khách hàng → UI → Controller → LoanService → CreditScoreService → CollateralService → Database
- Luồng: Nhập thông tin vay → (Nếu có thế chấp) Chọn tài sản → Tính LTV → Kiểm tra điều kiện cho vay → Validate → Tạo hồ sơ vay → Đánh dấu tài sản IN_USE → Lưu database → Thông báo

*Sơ đồ trình tự Thẩm định vay*
- Tương tác: Nhân viên tín dụng → UI → Controller → LoanService → CreditScoreService → CollateralService → LoanPaymentScheduleService → Database
- Luồng: Load hồ sơ → Load điểm tín dụng → (Bước 1) Hiển thị thông tin → (Bước 2) Nhập thu nhập, tỷ lệ nợ → Tính điểm tín dụng → Kiểm tra điều kiện → (Bước 3) Nhập giá trị thẩm định → Tính LTV → Kiểm tra LTV → (Bước 4) Nhập quyết định → Cập nhật trạng thái → (Nếu duyệt) Tạo lịch trả nợ → (Nếu từ chối) Lưu lý do → Gửi thông báo

*Sơ đồ trình tự Kích hoạt thẻ*
- Tương tác: Giao dịch viên → UI → Controller → CardService → AccountService → Database
- Luồng: Nhập số tài khoản → Tìm thẻ → Hiển thị thông tin thẻ → Nhập mã kích hoạt → Validate → Cập nhật status = ACTIVE → Lưu database → In biên nhận

**2.1.4. Biểu đồ Gói (Package Diagram)**

*Sơ đồ Package tổng quan*

Hệ thống được tổ chức theo kiến trúc 3 tầng với các package:

**Tầng Presentation (Frontend):**
- Package Pages: 5 dashboard (LoginPage, CustomerDashboard, TellerDashboard, LoanOfficerDashboard, AdminDashboard)
- Package Components:
  - components.customer: 15 components (Overview, Accounts, Transactions, Transfer, Savings, NewSavingsModal, SavingsMaturityModal, Loans, LoanApplication, LoanApplicationModal, LoanPaymentModal, LoanMaturityModal, Assets, CreditScore, Profile)
  - components.teller: 8 components (Overview, NewAccount, NewAccountModal, Deposit, Withdraw, DepositWithdrawModal, CardActivation, CardActivationModal)
  - components.loanOfficer: 10 components (Overview, PendingLoans, ApprovedLoans, RejectedLoans, LoanApprovalModal, LoanDetailModal, OverdueLoans, CollateralVerification, CreditScoreManagement, CreditScoreDetailModal)
  - components.admin: 5 components (Overview, BranchManagement, BranchManagementModal, EmployeeManagement, Reports)
  - components.common: 2 components (Modal, ProfileEditModal)
- Package Data: mockData.js (dữ liệu demo)
- Package Styles: CSS modules

**Tầng Application (Backend - thiết kế):**
- Package API: RESTful API endpoints
- Package Controllers: AuthController, AccountController, TransactionController, LoanController, SavingsController, CreditScoreController, BranchController
- Package Services: Business logic services
- Package Models: ORM models
- Package Utils: Helper functions, validators

**Tầng Data:**
- Package Database: MySQL 8.0 với 21 tables
- Package Repositories: Data access layer
- Package Triggers: Database automation
- Package Procedures: Business logic trong database
- Package Views: Tổng hợp dữ liệu

**2.1.5. Biểu đồ Thành phần (Component Diagram)**

*Sơ đồ Component chi tiết*

**Client Layer:**
- Component: Web Browser
- Component: React Application
  - Sub-component: Router (React Router DOM)
  - Sub-component: State Management (useState, useEffect)
  - Sub-component: Dashboard Components (Customer/Teller/LoanOfficer/Admin)
- Component: Authentication Module
  - Sub-component: Login
  - Sub-component: JWT Token Handler
  - Sub-component: Role-based Route Protection
- Component: API Client
  - Sub-component: HTTP Client (Axios/Fetch)
  - Sub-component: Request Interceptor
  - Sub-component: Response Handler

**API Layer:**
- Component: API Gateway
  - Sub-component: Request Router
  - Sub-component: Authentication Middleware
  - Sub-component: Authorization Middleware
- Component: REST API Services
  - Auth Service: POST /api/auth/login, POST /api/auth/logout
  - Account Service: GET/POST/PUT /api/accounts
  - Transaction Service: POST /api/transactions, GET /api/transactions/:id
  - Loan Service: GET/POST/PUT /api/loans
  - Savings Service: GET/POST /api/savings
  - CreditScore Service: GET/PUT /api/credit-scores

**Business Logic Layer:**
- Component: Account Manager (Quản lý tài khoản)
- Component: Transaction Processor (Xử lý giao dịch)
- Component: Loan Manager (Quản lý khoản vay)
- Component: Credit Score Calculator (Tính điểm tín dụng)
- Component: Interest Calculator (Tính lãi suất)
- Component: Payment Scheduler (Lập lịch thanh toán)
- Component: Notification Manager (Quản lý thông báo)

**Data Layer:**
- Component: MySQL Database (21 tables)
- Component: Cache Server (Redis - sessions, account balances)
- Component: File Storage (hồ sơ, giấy tờ)

**External Services:**
- Component: Email Service (gửi thông báo email)
- Component: SMS Gateway (gửi OTP, thông báo)
- Component: Payment Gateway (thanh toán online)
- Component: Credit Bureau - CIC (truy vấn lịch sử tín dụng)

#### 2.2. Mô hình hóa cấu trúc

**2.2.1. Biểu đồ Lớp (Class Diagram)**

*Sơ đồ Class tổng quan*

Hệ thống bao gồm 21 class (tables) được tổ chức thành 6 nhóm chức năng với các mối quan hệ rõ ràng:

**Nhóm 1: Quản lý Tổ chức (3 classes)**

*Class Branches (Chi nhánh):*
- **Mục đích**: Lưu thông tin các chi nhánh ngân hàng
- **Thuộc tính chính**: branch_id (PK), branch_code (UNIQUE), branch_name, address, phone, email, manager_id (FK), status
- **Phương thức**: create(), update(), delete(), getStatistics(), getEmployees()
- **Quan hệ**: 
  - 1-n với Employees (một chi nhánh có nhiều nhân viên)
  - 1-n với Customers (một chi nhánh đăng ký nhiều khách hàng)
  - 1-n với Accounts (một chi nhánh mở nhiều tài khoản)

*Class Roles (Vai trò):*
- **Mục đích**: Định nghĩa các vai trò trong hệ thống
- **Thuộc tính chính**: role_id (PK), role_name (UNIQUE), description
- **Phương thức**: getPermissions(), assignRole()
- **Quan hệ**: 1-n với Employees

*Class Employees (Nhân viên):*
- **Mục đích**: Quản lý thông tin nhân viên ngân hàng
- **Thuộc tính chính**: employee_id (PK), employee_code (UNIQUE), branch_id (FK), role_id (FK), full_name, email (UNIQUE), username (UNIQUE), password_hash, status
- **Phương thức**: login(), updateProfile(), changePassword(), getRole(), getBranch()
- **Quan hệ**: 
  - n-1 với Branches
  - n-1 với Roles
  - 1-n với Loans (approved_by)
  - 1-n với Collaterals (appraised_by)

**Nhóm 2: Quản lý Khách hàng (3 classes)**

*Class Customers (Khách hàng):*
- **Mục đích**: Lưu thông tin khách hàng cá nhân và doanh nghiệp
- **Thuộc tính chính**: customer_id (PK), customer_code (UNIQUE), full_name, email (UNIQUE), phone (UNIQUE), id_card_number, monthly_income, registered_branch_id (FK), username (UNIQUE), password_hash, status
- **Phương thức**: register(), login(), updateProfile(), getAccounts(), getLoans(), getSavings(), getCreditScore()
- **Quan hệ**: 
  - n-1 với Branches
  - 1-n với Accounts
  - 1-1 với CreditScores
  - 1-n với Loans
  - 1-n với SavingsDeposits
  - 1-n với Collaterals

*Class CreditScores (Điểm tín dụng hiện tại):*
- **Mục đích**: Lưu điểm tín dụng hiện tại của khách hàng
- **Thuộc tính chính**: score_id (PK), customer_id (FK, UNIQUE), score (300-850), grade (AAA-C), interest_rate, max_ltv, on_time_payment_rate, debt_to_income_ratio, late_payments
- **Phương thức**: calculate(), update(), getGrade(), getRecommendedRate(), getHistory()
- **Quan hệ**: 1-1 với Customers

*Class CreditScoreHistory (Lịch sử điểm tín dụng):*
- **Mục đích**: Ghi lại mọi thay đổi điểm tín dụng
- **Thuộc tính chính**: history_id (PK), customer_id (FK), old_score, new_score, score_change, old_grade, new_grade, reason, event_type, event_reference, created_by (FK)
- **Phương thức**: logChange(), getChangesByCustomer()
- **Quan hệ**: 
  - n-1 với Customers
  - n-1 với Employees (created_by)

**Nhóm 3: Quản lý Tài khoản (3 classes)**

*Class AccountTypes (Loại tài khoản):*
- **Mục đích**: Định nghĩa các loại tài khoản
- **Thuộc tính chính**: account_type_id (PK), type_code (UNIQUE), type_name, description, min_balance, interest_rate
- **Phương thức**: getMinBalance(), getInterestRate()
- **Quan hệ**: 1-n với Accounts

*Class Accounts (Tài khoản):*
- **Mục đích**: Quản lý tài khoản của khách hàng
- **Thuộc tính chính**: account_id (PK), account_number (UNIQUE), customer_id (FK), account_type_id (FK), branch_id (FK), balance, opened_date, status
- **Phương thức**: deposit(), withdraw(), transfer(), getBalance(), getTransactions(), close(), freeze(), unfreeze()
- **Quan hệ**: 
  - n-1 với Customers
  - n-1 với AccountTypes
  - n-1 với Branches
  - 1-n với Cards
  - 1-n với Transactions (from_account/to_account)
  - 1-n với SavingsDeposits
  - 1-n với Loans

*Class Cards (Thẻ ngân hàng):*
- **Mục đích**: Quản lý thẻ ghi nợ và thẻ tín dụng
- **Thuộc tính chính**: card_id (PK), card_number (UNIQUE, ENCRYPTED), account_id (FK), card_type (DEBIT/CREDIT), issue_date, expiry_date, status
- **Phương thức**: activate(), lock(), unlock(), checkExpiry()
- **Quan hệ**: n-1 với Accounts

**Nhóm 4: Giao dịch (2 classes)**

*Class TransactionTypes (Loại giao dịch):*
- **Mục đích**: Định nghĩa các loại giao dịch
- **Thuộc tính chính**: transaction_type_id (PK), type_code (UNIQUE), type_name, description
- **Phương thức**: getTypeByCode()
- **Quan hệ**: 1-n với Transactions

*Class Transactions (Giao dịch):*
- **Mục đích**: Ghi nhận mọi giao dịch trong hệ thống
- **Thuộc tính chính**: transaction_id (PK, BIGINT), transaction_code (UNIQUE), transaction_type_id (FK), from_account_id (FK), to_account_id (FK), amount, fee, balance_after, status, transaction_date
- **Phương thức**: create(), validate(), calculateFee(), updateAccountBalance(), getReceipt()
- **Quan hệ**: 
  - n-1 với TransactionTypes
  - n-1 với Accounts (from_account)
  - n-1 với Accounts (to_account)
  - 1-n với LoanPayments

**Nhóm 5: Tiết kiệm (3 classes)**

*Class SavingsInterestRates (Lãi suất tiết kiệm):*
- **Mục đích**: Cấu hình lãi suất theo kỳ hạn
- **Thuộc tính chính**: rate_id (PK), term_months, min_amount, max_amount, interest_rate, effective_from, effective_to, status
- **Phương thức**: getRateByTerm(), getRateByAmount(), isEffective()
- **Quan hệ**: 1-n với SavingsDeposits

*Class SavingsDeposits (Sổ tiết kiệm):*
- **Mục đích**: Quản lý sổ tiết kiệm của khách hàng
- **Thuộc tính chính**: deposit_id (PK), deposit_number (UNIQUE), customer_id (FK), account_id (FK), principal_amount, interest_rate, term_months, start_date, maturity_date, auto_renew, total_interest_earned, status
- **Phương thức**: create(), calculateInterest(), checkMaturity(), withdraw(), renew(), withdrawEarly()
- **Quan hệ**: 
  - n-1 với Customers
  - n-1 với Accounts
  - n-1 với Branches
  - n-1 với SavingsInterestRates
  - 1-n với SavingsTransactions

*Class SavingsTransactions (Giao dịch tiết kiệm):*
- **Mục đích**: Ghi nhận các giao dịch liên quan đến tiết kiệm
- **Thuộc tính chính**: savings_transaction_id (PK), deposit_id (FK), transaction_type, amount, interest_amount, description, transaction_date
- **Phương thức**: create(), getByDeposit()
- **Quan hệ**: n-1 với SavingsDeposits

**Nhóm 6: Tín dụng (7 classes)**

*Class CollateralTypes (Loại tài sản):*
- **Mục đích**: Định nghĩa loại tài sản thế chấp
- **Thuộc tính chính**: collateral_type_id (PK), type_code (UNIQUE), type_name, max_ltv
- **Phương thức**: getMaxLTV()
- **Quan hệ**: 1-n với Collaterals

*Class Collaterals (Tài sản thế chấp):*
- **Mục đích**: Quản lý tài sản thế chấp của khách hàng
- **Thuộc tính chính**: collateral_id (PK), customer_id (FK), collateral_type_id (FK), collateral_name, original_value, appraised_value, appraised_by (FK), status
- **Phương thức**: appraise(), approve(), reject(), markInUse(), release()
- **Quan hệ**: 
  - n-1 với Customers
  - n-1 với CollateralTypes
  - n-1 với Employees (appraised_by)
  - 1-n với Loans

*Class LoanTypes (Loại vay):*
- **Mục đích**: Định nghĩa các loại hình vay
- **Thuộc tính chính**: loan_type_id (PK), type_code (UNIQUE), type_name, max_amount, max_term_months, require_collateral
- **Phương thức**: checkRequireCollateral(), getMaxAmount()
- **Quan hệ**: 
  - 1-n với Loans
  - 1-n với LoanInterestRates

*Class LoanInterestRates (Lãi suất vay):*
- **Mục đích**: Cấu hình lãi suất cho vay
- **Thuộc tính chính**: rate_id (PK), loan_type_id (FK), min_amount, max_amount, term_months_from, term_months_to, credit_grade, base_rate, effective_from, effective_to
- **Phương thức**: getRateByCriteria(), isApplicable()
- **Quan hệ**: 
  - n-1 với LoanTypes
  - 1-n với Loans

*Class Loans (Khoản vay):*
- **Mục đích**: Quản lý các khoản vay của khách hàng
- **Thuộc tính chính**: loan_id (PK), loan_number (UNIQUE), customer_id (FK), account_id (FK), loan_type_id (FK), loan_amount, approved_amount, interest_rate, term_months, monthly_payment, collateral_id (FK), ltv_ratio, outstanding_balance, status
- **Phương thức**: apply(), approve(), reject(), disburse(), calculateMonthlyPayment(), calculateLTV(), makePayment(), checkOverdue(), processMaturity()
- **Quan hệ**: 
  - n-1 với Customers
  - n-1 với Accounts
  - n-1 với LoanTypes
  - n-1 với Branches
  - n-1 với Employees (loan_officer, approved_by)
  - n-1 với LoanInterestRates
  - 0..1-1 với Collaterals (có thể null)
  - 1-n với LoanPaymentSchedule
  - 1-n với LoanPayments

*Class LoanPaymentSchedule (Lịch trả nợ):*
- **Mục đích**: Lưu lịch trả nợ định kỳ cho từng khoản vay
- **Thuộc tính chính**: schedule_id (PK), loan_id (FK), payment_number, due_date, principal_amount, interest_amount, total_payment, outstanding_balance, status, paid_amount, paid_date
- **Phương thức**: markAsPaid(), markAsOverdue(), calculateLateFee()
- **Quan hệ**: 
  - n-1 với Loans
  - 1-n với LoanPayments

*Class LoanPayments (Thanh toán vay):*
- **Mục đích**: Ghi nhận từng lần thanh toán khoản vay
- **Thuộc tính chính**: payment_id (PK), loan_id (FK), schedule_id (FK), transaction_id (FK), principal_paid, interest_paid, late_fee_paid, total_paid, payment_method
- **Phương thức**: create(), getReceipt()
- **Quan hệ**: 
  - n-1 với Loans
  - n-1 với LoanPaymentSchedule
  - n-1 với Transactions

**Mối quan hệ chính trong hệ thống:**
- **Aggregation** (tổng hợp): Customer có nhiều Account, Customer có nhiều Loan
- **Composition** (hợp thành): Loan có nhiều LoanPaymentSchedule (xóa Loan → xóa Schedule)
- **Association** (liên kết): Loan liên kết với Collateral (có thể null cho vay không thế chấp)
- **Dependency** (phụ thuộc): LoanPayment phụ thuộc vào Transaction
- **Inheritance** (kế thừa): Không sử dụng kế thừa trong thiết kế database này

**2.2.2. Biểu đồ Triển khai (Deployment Diagram)**

*Sơ đồ Deployment*

Hệ thống được triển khai trên kiến trúc client-server 3 tầng:

**Client Tier (Tầng khách):**
- Node: Client Devices
  - Component: Web Browser (Chrome, Firefox, Edge, Safari)
  - Component: Mobile Browser (iOS Safari, Chrome Mobile)
- Kết nối: HTTPS (port 443)

**Web Tier (Tầng web):**
- Node: Web Server
  - Component: Nginx hoặc Apache HTTP Server
  - Artifact: React build files (HTML, CSS, JS)
  - Artifact: Static assets (images, fonts)
- Chức năng: Serve static files, SSL/TLS termination, Gzip compression
- Port: 80 (HTTP), 443 (HTTPS)

**Application Tier (Tầng ứng dụng):**
- Node: Application Server
  - Component: Node.js Runtime
  - Component: Express Framework
  - Artifact: RESTful API
  - Artifact: Business Logic
- Chức năng: API endpoints, Authentication, Authorization, Business logic processing
- Port: 3000 hoặc 5000

**Data Tier (Tầng dữ liệu):**
- Node: Database Server
  - Component: MySQL 8.0
  - Component: InnoDB Storage Engine
  - Artifact: 21 tables
  - Artifact: Triggers, Stored Procedures, Views
- Chức năng: Data persistence, Transaction management
- Port: 3306
- Charset: UTF8MB4

**Luồng Deployment:**
1. Client gửi HTTPS request → Web Server (Nginx/Apache)
2. Web Server serve React App (static files) → Client
3. React App gọi API request → Application Server
4. Application Server xử lý business logic → Query/Update Database
5. Database trả về dữ liệu → Application Server
6. Application Server format response (JSON) → React App
7. React App render UI → Client

#### 2.3. Mô hình hóa hành vi

**2.3.1. Biểu đồ Trạng thái (State Diagram)**

Hệ thống bao gồm 5 biểu đồ trạng thái chính mô tả vòng đời của các entity:

*Sơ đồ trạng thái Khoản Vay (Loan State Diagram)*
- **PENDING** (Chờ duyệt): 
  - Trạng thái ban đầu khi khách hàng nộp hồ sơ
  - Hồ sơ chờ nhân viên tín dụng thẩm định
  - Có thể chuyển sang: APPROVED, REJECTED
  
- **APPROVED** (Đã duyệt): 
  - Hồ sơ đã được phê duyệt, chuẩn bị giải ngân
  - Chờ giải ngân tiền vào tài khoản
  - Có thể chuyển sang: ACTIVE
  
- **ACTIVE** (Đang hoạt động): 
  - Khoản vay đang được trả nợ định kỳ
  - Khách hàng trả nợ theo lịch
  - Có thể chuyển sang: OVERDUE (nếu trễ hạn), PAID_OFF (nếu trả xong)
  
- **OVERDUE** (Quá hạn): 
  - Khoản vay có ít nhất 1 kỳ trả nợ quá hạn
  - Phân loại theo số ngày quá hạn (1-90, 91-180, 181-360, >360)
  - Có thể chuyển về: ACTIVE (nếu thanh toán), PAID_OFF (nếu trả hết)
  
- **PAID_OFF** (Đã trả xong): 
  - Khoản vay đã được thanh toán đầy đủ
  - Giải phóng tài sản thế chấp (nếu có)
  - Trạng thái kết thúc
  
- **REJECTED** (Từ chối): 
  - Hồ sơ không đạt yêu cầu, bị từ chối
  - Có lý do từ chối cụ thể
  - Trạng thái kết thúc

**Chuyển đổi trạng thái:** PENDING → APPROVED → ACTIVE ↔ OVERDUE → PAID_OFF hoặc PENDING → REJECTED

*Sơ đồ trạng thái Lịch Trả Nợ (Payment Schedule State Diagram)*
- **PENDING** (Chờ trả): 
  - Kỳ trả nợ chưa đến hạn
  - Chờ đến ngày đáo hạn
  - Có thể chuyển sang: PAID, OVERDUE
  
- **PAID** (Đã trả): 
  - Đã thanh toán đủ số tiền theo lịch
  - Cập nhật điểm tín dụng +5 điểm
  - Trạng thái kết thúc cho kỳ này
  
- **OVERDUE** (Quá hạn): 
  - Quá ngày đáo hạn chưa thanh toán
  - Tính lãi phạt theo ngày
  - Có thể chuyển sang: PAID, PARTIAL_PAID
  
- **PARTIAL_PAID** (Trả một phần): 
  - Đã trả một phần số tiền
  - Còn số dư chưa thanh toán
  - Có thể chuyển sang: PAID

**Chuyển đổi trạng thái:** PENDING → PAID/OVERDUE/PARTIAL_PAID → PAID

*Sơ đồ trạng thái Sổ Tiết Kiệm (Savings Deposit State Diagram)*
- **ACTIVE** (Đang gửi): 
  - Sổ tiết kiệm đang tích lũy lãi
  - Chưa đến hạn rút
  - Có thể chuyển sang: MATURED (đến hạn), WITHDRAWN_EARLY (rút sớm)
  
- **MATURED** (Đã đáo hạn): 
  - Sổ đã đến kỳ đáo hạn
  - Chờ khách hàng xử lý (rút tiền hoặc tái tục)
  - Gửi thông báo trước 7 ngày
  - Có thể chuyển sang: CLOSED (rút tiền), ACTIVE (tái tục)
  
- **CLOSED** (Đã đóng): 
  - Đã rút tiền về tài khoản thanh toán
  - Trạng thái kết thúc
  
- **WITHDRAWN_EARLY** (Rút trước hạn): 
  - Khách hàng rút tiền trước khi đáo hạn
  - Chỉ nhận lãi suất không kỳ hạn (bị phạt)
  - Có thể chuyển sang: CLOSED

**Chuyển đổi trạng thái:** ACTIVE → MATURED → CLOSED hoặc ACTIVE → WITHDRAWN_EARLY → CLOSED

*Sơ đồ trạng thái Tài Khoản (Account State Diagram)*
- **ACTIVE** (Hoạt động): 
  - Tài khoản có thể giao dịch bình thường
  - Có thể nạp, rút, chuyển khoản
  - Có thể chuyển sang: FROZEN, CLOSED
  
- **FROZEN** (Đóng băng): 
  - Tài khoản bị tạm khóa
  - Không thể giao dịch
  - Có thể chuyển về: ACTIVE (mở băng)
  
- **CLOSED** (Đã đóng): 
  - Tài khoản đã đóng
  - Không thể giao dịch
  - Trạng thái kết thúc

**Chuyển đổi trạng thái:** ACTIVE ↔ FROZEN → CLOSED

*Sơ đồ trạng thái Tài Sản Thế Chấp (Collateral State Diagram)*
- **PENDING** (Chờ duyệt): 
  - Tài sản mới đăng ký
  - Chờ nhân viên thẩm định
  - Có thể chuyển sang: AVAILABLE, REJECTED
  
- **AVAILABLE** (Sẵn sàng): 
  - Tài sản đã được thẩm định và phê duyệt
  - Có thể sử dụng để thế chấp
  - Có thể chuyển sang: IN_USE
  
- **IN_USE** (Đang sử dụng): 
  - Tài sản đang được thế chấp cho khoản vay
  - Không thể sử dụng cho khoản vay khác
  - Có thể chuyển về: AVAILABLE (khi giải phóng)
  
- **REJECTED** (Từ chối): 
  - Tài sản không đạt yêu cầu thẩm định
  - Không thể sử dụng
  - Trạng thái kết thúc

**Chuyển đổi trạng thái:** PENDING → AVAILABLE → IN_USE → AVAILABLE (khi giải phóng) hoặc PENDING → REJECTED

**2.3.2. Biểu đồ Tương tác (Interaction Diagram)**

*Sơ đồ Collaboration (Collaboration Diagram)*

Mô tả sự tương tác giữa các đối tượng trong hệ thống:

**Tương tác trong use case "Chuyển khoản":**
- Customer → UI: Nhập thông tin (1)
- UI → TransactionController: Gửi request (2)
- TransactionController → AccountService: Kiểm tra TK nguồn (3)
- AccountService → Database: Query account (4)
- TransactionController → AccountService: Kiểm tra TK đích (5)
- TransactionController → TransactionService: Tính phí (6)
- TransactionService → AccountService: Trừ TK nguồn (7)
- TransactionService → AccountService: Cộng TK đích (8)
- TransactionService → TransactionRepository: Lưu giao dịch (9)
- TransactionController → NotificationService: Gửi thông báo (10)

**Tương tác trong use case "Thẩm định vay":**
- LoanOfficer → UI: Mở modal thẩm định (1)
- UI → LoanController: Load hồ sơ (2)
- LoanController → LoanService: Get loan details (3)
- LoanService → CreditScoreService: Get credit score (4)
- LoanService → CollateralService: Get collateral (nếu có) (5)
- LoanOfficer → UI: Nhập đánh giá (6)
- UI → LoanController: Submit decision (7)
- LoanController → CreditScoreService: Calculate score (8)
- LoanController → LoanService: Calculate LTV (9)
- LoanService → LoanRepository: Update loan status (10)
- (Nếu approved) LoanService → PaymentScheduleService: Create schedule (11)
- LoanController → NotificationService: Notify customer (12)

**2.3.3. Biểu đồ Thời gian (Timing Diagram)**

*Sơ đồ Timing cho xử lý giao dịch chuyển khoản*

Mô tả thời gian xử lý của các thành phần:
- t0: User submit form
- t0+50ms: Validate input
- t0+100ms: Check source account balance
- t0+150ms: Check destination account exists
- t0+200ms: Calculate fee
- t0+250ms: Begin transaction
- t0+300ms: Deduct from source
- t0+350ms: Add to destination
- t0+400ms: Commit transaction
- t0+450ms: Send notification
- t0+500ms: Return success response

**Tổng thời gian xử lý:** < 500ms (đáp ứng yêu cầu < 2 giây)

### 3. Kiến trúc và công nghệ hệ thống

#### 3.1. Kiến trúc tổng thể

**3.1.1. Mô hình 3-Tier Architecture**

Hệ thống được thiết kế theo mô hình **3-Tier Architecture**, một kiến trúc phần mềm phổ biến và đã được kiểm chứng trong các ứng dụng ngân hàng:

**Tầng 1: Presentation Layer (Tầng trình diễn)**
- **Công nghệ**: React 18 + Vite 7.1.7
- **Thành phần**: 4 dashboard (Customer, Admin, Teller, Loan Officer), 40+ components, React Router DOM
- **Trách nhiệm**: Render UI/UX, validation phía client, gọi API, xử lý sự kiện người dùng

**Tầng 2: Business Logic Layer (Tầng nghiệp vụ)**
- **Công nghệ**: Node.js + Express hoặc Spring Boot (dự kiến)
- **Thành phần**: RESTful API endpoints, Controllers, Services, Middleware
- **Trách nhiệm**: Xử lý business rules, tính toán (lãi suất, LTV, điểm tín dụng), xác thực và phân quyền

**Tầng 3: Data Layer (Tầng dữ liệu)**
- **Công nghệ**: MySQL 8.0 + InnoDB Engine
- **Thành phần**: 21 bảng, Triggers, Stored Procedures, Views, Indexes
- **Trách nhiệm**: Lưu trữ dữ liệu, đảm bảo tính toàn vẹn (ACID), xử lý transactions, backup

**Lợi ích:**
- Separation of Concerns: Mỗi tầng có trách nhiệm riêng
- Maintainability: Thay đổi một tầng không ảnh hưởng tầng khác
- Scalability: Scale từng tầng độc lập
- Reusability: Business logic tái sử dụng cho web, mobile

**3.1.2. Luồng xử lý request**

```
Client → HTTPS Request → Web Server → React App → API Call → 
API Gateway → Controller → Service → Repository → Database →
Response → JSON → React App → Render UI
```

#### 3.2. Công nghệ Frontend

**React 18**

*Lý do lựa chọn:*
- **Component-based**: Dễ tái sử dụng, maintain, test. Phù hợp với hệ thống có 4 dashboard và 40+ components
- **Virtual DOM**: Hiệu suất cao, chỉ re-render phần thay đổi, quan trọng cho dashboard có nhiều charts
- **Ecosystem phong phú**: Nhiều thư viện (routing, charts, forms), cộng đồng lớn
- **Hooks API**: Quản lý state đơn giản, không cần Redux
- **Concurrent Features**: Automatic batching, Transitions, Suspense

**Vite 7.1.7**

*Lý do lựa chọn:*
- **Fast HMR**: Thay đổi code hiển thị ngay (< 100ms), tăng tốc phát triển
- **Build nhanh**: ES modules native, build nhanh gấp 10-100 lần Webpack
- **Tối ưu production**: Code splitting, tree shaking, minification
- **Cấu hình đơn giản**: Zero-config cho hầu hết use cases

**React Router DOM 7.9.4**

*Lý do lựa chọn:*
- **Declarative Routing**: Định nghĩa routes rõ ràng, JSX-based
- **Role-based Routing**: Bảo vệ routes theo role (4 routes: /customer/*, /admin/*, /teller/*, /loan-officer/*)
- **Navigation Features**: useNavigate, useLocation, Link, nested routes

**Recharts 3.3.0**

*Lý do lựa chọn:*
- **Dễ sử dụng**: API đơn giản, declarative, tương thích React
- **Responsive**: Tự động điều chỉnh kích thước
- **Đa dạng biểu đồ**: Bar, Line, Pie charts cho dashboard ngân hàng
- **Performance**: SVG-based, render nhanh

**Lucide React**

*Lý do lựa chọn:*
- **Icon đẹp, hiện đại**: 1000+ icons, design system nhất quán
- **Tree-shakeable**: Chỉ import icons cần dùng, giảm bundle size
- **SVG-based**: Vector graphics, chất lượng tốt ở mọi kích thước
- **Không phụ thuộc Font**: Hiển thị ngay lập tức

#### 3.3. Công nghệ Backend (Dự kiến)

**3.3.1. Lựa chọn Framework**

**Option 1: Spring Boot (Java)**
- **Ưu điểm**: Enterprise-ready, mature ecosystem (Spring Security, Spring Data JPA), strong typing, transaction management mạnh, được tin dùng trong ngân hàng
- **Nhược điểm**: Verbose code, build time lâu, yêu cầu kinh nghiệm Java
- **Phù hợp**: Team có kinh nghiệm Java, dự án lớn cần scalability cao

**Option 2: Node.js + Express (JavaScript)**
- **Ưu điểm**: JavaScript end-to-end (cùng ngôn ngữ React), non-blocking I/O (nhiều concurrent requests), phát triển nhanh, NPM ecosystem phong phú, dễ học, JSON native
- **Nhược điểm**: Single-threaded, dynamically typed, ít mature hơn Spring
- **Phù hợp**: Team quen JavaScript, cần phát triển nhanh, I/O intensive

**Khuyến nghị**: Ngắn hạn dùng Node.js + Express (nhanh, dễ học), dài hạn có thể migrate sang Spring Boot

**3.3.2. JWT Token**

*Lý do lựa chọn:*
- **Stateless**: Không cần lưu session trên server, dễ scale horizontal
- **Secure**: Digital signature, có thể set expiration time, refresh token mechanism
- **Flexible**: Payload chứa thông tin user (id, email, role), không cần query database mỗi request
- **Standard**: RFC 7519, được hỗ trợ rộng rãi

*Workflow:* User login → Server tạo JWT token → Client lưu token → Client gửi token trong header → Server verify → Cho phép truy cập

**3.3.3. RESTful API**

*Lý do lựa chọn:*
- **Standard**: Chuẩn phổ biến, dễ hiểu và maintain
- **Stateless**: Mỗi request độc lập, dễ cache và scale
- **Resource-based**: URL rõ ràng (`/api/customers`, `/api/loans`)
- **HTTP Methods Semantic**: GET (lấy), POST (tạo), PUT (cập nhật), DELETE (xóa)

*Ví dụ endpoints:*
```
GET/POST   /api/accounts       - Tài khoản
GET/POST   /api/loans          - Khoản vay
POST       /api/transactions   - Giao dịch
GET        /api/credit-scores  - Điểm tín dụng
```

#### 3.4. Công nghệ Database

**MySQL 8.0**

*Lý do lựa chọn:*
- **Mature và Stable**: Phát triển 25+ năm, được sử dụng rộng rãi trong ngân hàng
- **ACID Compliance**: Atomicity, Consistency, Isolation, Durability - quan trọng cực kỳ cho giao dịch tài chính
- **Performance**: Query optimizer thông minh, index support mạnh, xử lý tốt structured data
- **Triggers và Stored Procedures**: Tự động hóa nghiệp vụ ở database layer
- **Replication**: Master-Slave replication, read replicas, automatic failover
- **Cost-effective**: Open source, miễn phí

*So sánh:* PostgreSQL (complex queries tốt hơn nhưng phức tạp hơn), MongoDB (NoSQL không có ACID), Oracle (đắt)

**InnoDB Engine**

*Lý do lựa chọn:*
- **Transaction Support**: ACID transactions, COMMIT/ROLLBACK - critical cho banking
- **Foreign Key Constraints**: Đảm bảo referential integrity, CASCADE/SET NULL/RESTRICT
- **Row-level Locking**: Concurrent transactions hiệu quả, nhiều users update cùng lúc
- **Crash Recovery**: Tự động phục hồi sau crash, không mất data

**Character Set utf8mb4**

*Lý do lựa chọn:*
- **Unicode đầy đủ**: Hỗ trợ tiếng Việt, ký tự đặc biệt, tất cả ngôn ngữ
- **Emoji Support**: Hỗ trợ 4-byte characters
- **Standard hiện đại**: Chuẩn MySQL 8.0, tránh migrate sau

#### 3.5. Công nghệ bổ trợ và tương lai

**Công nghệ bổ trợ hiện tại:**
- **Git**: Version control, branching, code review
- **NPM**: Package management cho frontend
- **ESLint + Prettier**: Code quality và formatting
- **Chrome DevTools**: Debug và performance profiling

**Công nghệ tương lai (Roadmap):**
- **Redis**: Caching layer, session storage, giảm tải database
- **RabbitMQ/Kafka**: Message queue cho async tasks, event-driven
- **Swagger/OpenAPI**: API documentation tự động
- **Prometheus + Grafana**: Monitoring và alerting
- **ELK Stack**: Centralized logging và analysis
- **Docker**: Containerization, consistent environment
- **CI/CD**: Automated testing, build, deploy

#### 3.6. Tổng kết lựa chọn công nghệ

**Điểm mạnh của stack:**
- **Modern**: Công nghệ hiện đại, cập nhật thường xuyên
- **Full-stack JavaScript**: Cùng ngôn ngữ (nếu chọn Node.js), dễ chia sẻ code
- **Open Source**: Không có licensing cost, community support tốt
- **Scalable**: Scale từ prototype đến production
- **Developer-friendly**: Fast development, hot reload, documentation tốt

**Phù hợp với dự án:**
- Đội ngũ phát triển có thể làm full-stack với JavaScript
- Phát triển nhanh, linh hoạt
- Chi phí thấp (open source)
- Dễ dàng mở rộng và bảo trì

### 4. Mô hình hóa hệ thống

#### 4.1. Các sơ đồ UML

Hệ thống được mô hình hóa bằng các sơ đồ UML sau:

**4.1.1. Biểu đồ Use Case (Use Case Diagram)**
- Mô tả các actor (Khách hàng, Giao dịch viên, Nhân viên Tín dụng, Quản trị viên)
- Các use case chính được nhóm thành 6 nhóm nghiệp vụ: Quản lý tài khoản, Giao dịch tài chính, Sản phẩm tiết kiệm, Sản phẩm tín dụng, Quản lý tín nhiệm, Quản trị hệ thống

**4.1.2. Biểu đồ Hoạt động (Activity Diagram)**
- 11 luồng hoạt động chính: Mở tài khoản, Nạp/Rút tiền, Chuyển khoản, Mở tiết kiệm, Đáo hạn tiết kiệm, Đăng ký vay, Thẩm định vay, Trả nợ hàng tháng, Xử lý nợ quá hạn, Đáo hạn khoản vay, Kích hoạt thẻ

**4.1.3. Biểu đồ Trình tự (Sequence Diagram)**
- Mở tài khoản: Giao dịch viên ↔ Hệ thống ↔ Database
- Nạp tiền: Giao dịch viên ↔ Hệ thống ↔ Database
- Rút tiền: Giao dịch viên ↔ Hệ thống ↔ Database
- Chuyển khoản: Khách hàng ↔ Hệ thống
- Mở tiết kiệm: Khách hàng ↔ Hệ thống
- Đăng ký vay: Khách hàng ↔ Hệ thống
- Thẩm định vay: Nhân viên ↔ Hệ thống
- Kích hoạt thẻ: Giao dịch viên ↔ Hệ thống

**4.1.4. Biểu đồ Lớp (Class Diagram)**
- Mô tả 21 bảng dữ liệu được tổ chức thành 6 nhóm chức năng
- Mối quan hệ giữa các bảng (1-1, 1-n, n-n)

**4.1.5. Biểu đồ Gói (Package Diagram)**
- Tổ chức theo kiến trúc 3 tầng: Presentation Layer, Application Layer, Data Layer

**4.1.6. Biểu đồ Thành phần (Component Diagram)**
- Client Layer: Web Browser, React Application, Authentication Module, API Client
- API Layer: API Gateway, REST API Services
- Business Logic Layer: Account Manager, Transaction Processor, Loan Manager, Credit Score Calculator, Interest Calculator, Payment Scheduler
- Data Layer: MySQL Database, Cache Server, File Storage
- External Services: Email Service, SMS Gateway, Payment Gateway, Credit Bureau

**4.1.7. Biểu đồ Triển khai (Deployment Diagram)**
- Client Tier: Web Browser, Mobile App
- Web Tier: Web Server (Nginx/Apache)
- Application Tier: Application Server (Node.js Runtime)
- Data Tier: Database Server (MySQL 8.0)

#### 4.2. Các sơ đồ trạng thái (State Diagram)

**4.2.1. Sơ đồ trạng thái Khoản Vay**
- **PENDING** (Chờ duyệt): Hồ sơ mới nộp, chờ thẩm định
- **APPROVED** (Đã duyệt): Đã phê duyệt, chuẩn bị giải ngân
- **ACTIVE** (Hoạt động): Đang trả nợ định kỳ
- **OVERDUE** (Quá hạn): Trễ hạn trả nợ
- **PAID_OFF** (Đã trả xong): Hoàn tất, giải phóng tài sản
- **REJECTED** (Từ chối): Không đạt yêu cầu

Chuyển đổi: PENDING → APPROVED → ACTIVE ↔ OVERDUE → PAID_OFF

**4.2.2. Sơ đồ trạng thái Lịch Trả Nợ**
- **PENDING** (Chờ trả): Chưa đến hạn
- **PAID** (Đã trả): Đã thanh toán đủ
- **OVERDUE** (Quá hạn): Quá ngày đáo hạn chưa trả
- **PARTIAL_PAID** (Trả một phần): Trả chưa đủ số tiền

Chuyển đổi: PENDING → PAID/OVERDUE/PARTIAL_PAID → PAID

**4.2.3. Sơ đồ trạng thái Sổ Tiết Kiệm**
- **ACTIVE** (Đang gửi): Đang tích lũy lãi
- **MATURED** (Đã đáo hạn): Đến kỳ, chờ xử lý
- **CLOSED** (Đã đóng): Đã rút tiền
- **WITHDRAWN_EARLY** (Rút sớm): Rút trước hạn, bị phạt

Chuyển đổi: ACTIVE → MATURED → CLOSED hoặc ACTIVE → WITHDRAWN_EARLY → CLOSED

**4.2.4. Sơ đồ trạng thái Tài Khoản**
- **ACTIVE** (Hoạt động): Có thể giao dịch
- **CLOSED** (Đã đóng): Không thể giao dịch

Chuyển đổi: ACTIVE → CLOSED

**4.2.5. Sơ đồ trạng thái Tài Sản Thế Chấp**
- **PENDING** (Chờ duyệt): Mới đăng ký, chờ thẩm định
- **AVAILABLE** (Sẵn sàng): Đã duyệt, có thể dùng
- **IN_USE** (Đang dùng): Đang thế chấp cho khoản vay
- **REJECTED** (Từ chối): Không đạt yêu cầu

Chuyển đổi: PENDING → AVAILABLE → IN_USE → AVAILABLE (khi giải phóng)

### 5. Thiết kế cơ sở dữ liệu

#### 5.1. Tổng quan về cơ sở dữ liệu

Hệ thống sử dụng MySQL 8.0 với engine InnoDB, character set utf8mb4. Database bao gồm 21 bảng, trong đó 19 bảng chính và 2 bảng phụ (lịch sử).

Cấu trúc database được tổ chức thành 6 nhóm chính:
- Quản lý Tổ chức: 3 bảng
- Quản lý Khách hàng: 3 bảng
- Quản lý Tài khoản: 3 bảng
- Giao dịch: 2 bảng
- Tiết kiệm: 3 bảng
- Vay vốn: 7 bảng

#### 5.2. Mô tả các bảng dữ liệu

**5.2.1. Nhóm bảng Quản lý Tổ chức**

*Bảng Branches (Chi nhánh):*
- **Mục đích**: Lưu thông tin các chi nhánh ngân hàng
- **Chức năng**: Quản lý thông tin chi nhánh (mã, tên, địa chỉ, quản lý, trạng thái), thống kê hoạt động theo chi nhánh
- **Quan hệ**: 1-n với Employees, 1-n với Customers, 1-n với Accounts

*Bảng Roles (Vai trò):*
- **Mục đích**: Định nghĩa các vai trò trong hệ thống
- **Chức năng**: Quản lý vai trò (CUSTOMER, TELLER, LOAN_OFFICER, ADMIN), sử dụng cho phân quyền
- **Quan hệ**: 1-n với Employees

*Bảng Employees (Nhân viên):*
- **Mục đích**: Quản lý thông tin nhân viên ngân hàng
- **Chức năng**: Lưu thông tin nhân viên (mã NV, chi nhánh, vai trò, thông tin cá nhân, tài khoản đăng nhập), quản lý phân quyền
- **Quan hệ**: n-1 với Branches, n-1 với Roles, 1-n với Loans (approved_by), 1-n với Collaterals (appraised_by)

**5.2.2. Nhóm bảng Quản lý Khách hàng**

*Bảng Customers (Khách hàng):*
- **Mục đích**: Lưu thông tin khách hàng cá nhân và doanh nghiệp
- **Chức năng**: Quản lý thông tin khách hàng (thông tin cá nhân, CMND, thu nhập, tài khoản đăng nhập), xác thực khách hàng
- **Quan hệ**: n-1 với Branches, 1-n với Accounts, 1-1 với CreditScores, 1-n với Loans, 1-n với SavingsDeposits, 1-n với Collaterals

*Bảng CreditScores (Điểm tín dụng hiện tại):*
- **Mục đích**: Lưu điểm tín dụng hiện tại của khách hàng
- **Chức năng**: Quản lý điểm tín dụng (điểm 300-850, hạng AAA-C, lãi suất, các chỉ số), đánh giá khả năng trả nợ
- **Quan hệ**: 1-1 với Customers

*Bảng CreditScoreHistory (Lịch sử điểm tín dụng):*
- **Mục đích**: Ghi lại mọi thay đổi điểm tín dụng
- **Chức năng**: Lưu lịch sử thay đổi điểm (điểm cũ, điểm mới, lý do, sự kiện), theo dõi xu hướng điểm tín dụng
- **Quan hệ**: n-1 với Customers, n-1 với Employees

**5.2.3. Nhóm bảng Quản lý Tài khoản**

*Bảng AccountTypes (Loại tài khoản):*
- **Mục đích**: Định nghĩa các loại tài khoản
- **Chức năng**: Quản lý loại tài khoản (CHECKING, SAVINGS), cấu hình lãi suất và số dư tối thiểu
- **Quan hệ**: 1-n với Accounts

*Bảng Accounts (Tài khoản):*
- **Mục đích**: Quản lý tài khoản của khách hàng
- **Chức năng**: Lưu thông tin tài khoản (số TK, khách hàng, loại, số dư, trạng thái), quản lý số dư, xử lý giao dịch
- **Quan hệ**: n-1 với Customers, n-1 với AccountTypes, n-1 với Branches, 1-n với Cards, 1-n với Transactions (from/to), 1-n với SavingsDeposits, 1-n với Loans

*Bảng Cards (Thẻ ngân hàng):*
- **Mục đích**: Quản lý thẻ ghi nợ và thẻ tín dụng
- **Chức năng**: Lưu thông tin thẻ (số thẻ mã hóa, tài khoản liên kết, loại thẻ, ngày hết hạn, trạng thái), quản lý kích hoạt thẻ
- **Quan hệ**: n-1 với Accounts

**5.2.4. Nhóm bảng Giao dịch**

*Bảng TransactionTypes (Loại giao dịch):*
- **Mục đích**: Định nghĩa các loại giao dịch
- **Chức năng**: Quản lý loại giao dịch (DEPOSIT, WITHDRAWAL, TRANSFER, LOAN_DISBURSEMENT), phân loại giao dịch
- **Quan hệ**: 1-n với Transactions

*Bảng Transactions (Giao dịch):*
- **Mục đích**: Ghi nhận mọi giao dịch trong hệ thống
- **Chức năng**: Lưu thông tin giao dịch (mã GD, loại, TK nguồn/đích, số tiền, phí, trạng thái), quản lý lịch sử giao dịch, đối soát
- **Quan hệ**: n-1 với TransactionTypes, n-1 với Accounts (from/to), 1-n với LoanPayments

**5.2.5. Nhóm bảng Tiết kiệm**

*Bảng SavingsInterestRates (Lãi suất tiết kiệm):*
- **Mục đích**: Cấu hình lãi suất theo kỳ hạn
- **Chức năng**: Quản lý lãi suất tiết kiệm (kỳ hạn, mức tiền, lãi suất, thời gian hiệu lực), cấu hình lãi suất động
- **Quan hệ**: 1-n với SavingsDeposits

*Bảng SavingsDeposits (Sổ tiết kiệm):*
- **Mục đích**: Quản lý sổ tiết kiệm của khách hàng
- **Chức năng**: Lưu thông tin sổ tiết kiệm (số sổ, gốc, lãi suất, kỳ hạn, trạng thái), tính lãi tự động, xử lý đáo hạn
- **Quan hệ**: n-1 với Customers, n-1 với Accounts, n-1 với Branches, n-1 với SavingsInterestRates, 1-n với SavingsTransactions

*Bảng SavingsTransactions (Giao dịch tiết kiệm):*
- **Mục đích**: Ghi nhận các giao dịch liên quan đến tiết kiệm
- **Chức năng**: Lưu giao dịch tiết kiệm (gửi, rút, tái tục, nhận lãi), quản lý lịch sử giao dịch tiết kiệm
- **Quan hệ**: n-1 với SavingsDeposits

**5.2.6. Nhóm bảng Vay vốn**

*Bảng CollateralTypes (Loại tài sản):*
- **Mục đích**: Định nghĩa loại tài sản thế chấp
- **Chức năng**: Quản lý loại tài sản (bất động sản, xe, tài sản khác), cấu hình LTV tối đa cho từng loại
- **Quan hệ**: 1-n với Collaterals

*Bảng Collaterals (Tài sản thế chấp):*
- **Mục đích**: Quản lý tài sản thế chấp của khách hàng
- **Chức năng**: Lưu thông tin tài sản (tên, giá trị, thẩm định, trạng thái), quản lý trạng thái sử dụng, xác minh tính pháp lý
- **Quan hệ**: n-1 với Customers, n-1 với CollateralTypes, n-1 với Employees, 1-n với Loans

*Bảng LoanTypes (Loại vay):*
- **Mục đích**: Định nghĩa các loại hình vay
- **Chức năng**: Quản lý loại vay (mua nhà, xe, tiêu dùng, kinh doanh), cấu hình hạn mức và thời hạn tối đa
- **Quan hệ**: 1-n với Loans, 1-n với LoanInterestRates

*Bảng LoanInterestRates (Lãi suất vay):*
- **Mục đích**: Cấu hình lãi suất cho vay
- **Chức năng**: Quản lý lãi suất vay (loại vay, hạng tín dụng, mức tiền, kỳ hạn, lãi suất), cấu hình lãi suất động
- **Quan hệ**: n-1 với LoanTypes, 1-n với Loans

*Bảng Loans (Khoản vay):*
- **Mục đích**: Quản lý các khoản vay của khách hàng
- **Chức năng**: Lưu thông tin khoản vay (số hồ sơ, số tiền, lãi suất, kỳ hạn, trạng thái, dư nợ), quản lý lịch trả nợ, xử lý đáo hạn
- **Quan hệ**: n-1 với Customers, n-1 với Accounts, n-1 với LoanTypes, n-1 với Branches, n-1 với Employees, n-1 với LoanInterestRates, n-1 với Collaterals, 1-n với LoanPaymentSchedule, 1-n với LoanPayments

*Bảng LoanPaymentSchedule (Lịch trả nợ):*
- **Mục đích**: Lưu lịch trả nợ định kỳ cho từng khoản vay
- **Chức năng**: Quản lý lịch trả nợ (kỳ, ngày, gốc, lãi, trạng thái), theo dõi tiến độ trả nợ
- **Quan hệ**: n-1 với Loans, 1-n với LoanPayments

*Bảng LoanPayments (Thanh toán vay):*
- **Mục đích**: Ghi nhận từng lần thanh toán khoản vay
- **Chức năng**: Lưu thanh toán vay (kỳ trả, số tiền, phương thức), quản lý lịch sử thanh toán
- **Quan hệ**: n-1 với Loans, n-1 với LoanPaymentSchedule, n-1 với Transactions

### 6. Database Automation

#### 6.1. Triggers (Các trigger cần thiết)

**Trigger tính LTV ratio:**
- **Chức năng**: Tự động tính tỷ lệ LTV khi tài sản thế chấp được định giá lại hoặc số tiền vay thay đổi
- **Mô tả**: Kích hoạt khi có thay đổi giá trị thẩm định tài sản hoặc số tiền vay, tự động cập nhật ltv_ratio trong bảng Loans

**Trigger cập nhật số dư:**
- **Chức năng**: Tự động cập nhật balance trong bảng Accounts khi có giao dịch thành công
- **Mô tả**: Kích hoạt khi có giao dịch mới với status = SUCCESS, tự động cập nhật số dư tài khoản nguồn và đích

**Trigger cập nhật outstanding_balance:**
- **Chức năng**: Tự động trừ dư nợ khi có thanh toán khoản vay
- **Mô tả**: Kích hoạt khi có thanh toán mới, tự động cập nhật outstanding_balance trong bảng Loans và LoanPaymentSchedule

**Trigger cập nhật điểm tín dụng:**
- **Chức năng**: Tự động điều chỉnh điểm tín dụng khi trả nợ đúng hạn/quá hạn
- **Mô tả**: Kích hoạt khi có thanh toán hoặc quá hạn, tự động cập nhật điểm tín dụng trong bảng CreditScores và ghi log vào CreditScoreHistory

**Trigger cập nhật status:**
- **Chức năng**: Tự động chuyển trạng thái khoản vay, sổ tiết kiệm, thẻ khi đáo hạn
- **Mô tả**: Kích hoạt khi đến ngày đáo hạn, tự động chuyển trạng thái từ ACTIVE sang MATURED hoặc OVERDUE

**Trigger tính lãi tiết kiệm:**
- **Chức năng**: Tự động tính lãi hàng tháng cho các sổ tiết kiệm (scheduled event)
- **Mô tả**: Chạy định kỳ hàng tháng, tính lãi cho các sổ tiết kiệm đang hoạt động và cập nhật total_interest_earned

**Trigger kiểm tra số dư tối thiểu:**
- **Chức năng**: Ngăn chặn giao dịch vi phạm quy định về số dư tối thiểu
- **Mô tả**: Kích hoạt trước khi thực hiện giao dịch rút tiền, kiểm tra số dư sau giao dịch có đạt số dư tối thiểu không

**Trigger ghi log điểm tín dụng:**
- **Chức năng**: Tự động ghi lịch sử thay đổi điểm tín dụng
- **Mô tả**: Kích hoạt khi có thay đổi điểm tín dụng, tự động tạo bản ghi mới trong CreditScoreHistory với thông tin thay đổi

#### 6.2. Stored Procedures (Các stored procedure cần thiết)

**Procedure tạo khoản vay:**
- **Chức năng**: Kiểm tra điều kiện, tính LTV, tạo lịch trả nợ
- **Mô tả**: Kiểm tra điều kiện cho vay (điểm tín dụng, thu nhập, LTV), tính toán lịch trả nợ, tạo bản ghi trong bảng Loans và LoanPaymentSchedule

**Procedure xử lý thanh toán:**
- **Chức năng**: Tính phí quá hạn, cập nhật số dư, tạo giao dịch
- **Mô tả**: Tính phí quá hạn nếu có, cập nhật số dư tài khoản, tạo giao dịch, cập nhật lịch trả nợ, cập nhật điểm tín dụng

**Procedure tính lãi tiết kiệm:**
- **Chức năng**: Tính lãi định kỳ cho các sổ tiết kiệm
- **Mô tả**: Tính lãi theo công thức lãi đơn hoặc lãi kép, cập nhật total_interest_earned, tạo giao dịch tiết kiệm nếu nhận lãi định kỳ

**Procedure xử lý đáo hạn:**
- **Chức năng**: Xử lý tái tục hoặc rút tiền khi đáo hạn
- **Mô tả**: Kiểm tra lựa chọn của khách hàng (rút tiền, tái tục gốc, tái tục gốc + lãi), thực hiện giao dịch tương ứng, cập nhật trạng thái

**Procedure tính điểm tín dụng:**
- **Chức năng**: Tính toán lại điểm dựa trên lịch sử thanh toán
- **Mô tả**: Tính điểm tín dụng dựa trên các yếu tố (thu nhập, tỷ lệ nợ/thu nhập, lịch sử trả nợ, thời gian làm việc, tài sản), cập nhật điểm và hạng tín dụng

**Procedure xử lý nợ quá hạn:**
- **Chức năng**: Phân loại và xử lý nợ quá hạn theo mức độ
- **Mô tả**: Tính số ngày quá hạn, phân loại nợ (cần chú ý, dưới chuẩn, nghi ngờ, có khả năng mất vốn), cập nhật điểm tín dụng, gửi thông báo

#### 6.3. Views (Các view cần thiết)

**View LoanDetails:**
- **Chức năng**: Thông tin chi tiết khoản vay kèm khách hàng, tài sản
- **Mô tả**: Tổng hợp thông tin từ bảng Loans, Customers, Collaterals, LoanTypes để hiển thị chi tiết khoản vay

**View CustomerSummary:**
- **Chức năng**: Tổng hợp tài khoản, số dư, khoản vay của khách hàng
- **Mô tả**: Tổng hợp thông tin từ bảng Customers, Accounts, Loans, SavingsDeposits để hiển thị tổng quan khách hàng

**View TransactionDetails:**
- **Chức năng**: Chi tiết giao dịch với thông tin tài khoản
- **Mô tả**: Tổng hợp thông tin từ bảng Transactions, Accounts, TransactionTypes để hiển thị chi tiết giao dịch

**View SavingsSummary:**
- **Chức năng**: Tổng hợp sổ tiết kiệm với số ngày đến đáo hạn
- **Mô tả**: Tổng hợp thông tin từ bảng SavingsDeposits, Customers, Accounts, tính số ngày đến đáo hạn

**View OverdueLoans:**
- **Chức năng**: Danh sách khoản vay quá hạn
- **Mô tả**: Lọc các khoản vay có trạng thái OVERDUE, tính số ngày quá hạn, phân loại mức độ

### 7. Tối ưu hóa và bảo mật database

#### 7.1. Indexes (Các chỉ mục)

- **Primary keys**: Trên tất cả các bảng (tự động tạo index)
- **Foreign keys**: Tự động tạo index
- **Single column indexes**: customer_id, account_number, loan_number, transaction_date, status
- **Composite indexes**: (customer_id, status), (customer_id, transaction_date DESC), (loan_id, due_date)

**Mục đích**: Tăng tốc độ query, đặc biệt quan trọng với bảng Transactions và Loans có nhiều dữ liệu.

#### 7.2. Bảo mật và phân quyền

**Database Level:**
- Foreign key constraints: Đảm bảo referential integrity
- CHECK constraints: Ràng buộc dữ liệu (amount > 0, score range 300-850)
- UNIQUE constraints: Ngăn trùng lặp (account_number, loan_number, email)

**Application Level:**
- Role-based access control: 4 roles (CUSTOMER, TELLER, LOAN_OFFICER, ADMIN) với quyền truy cập khác nhau
- Route protection: Kiểm tra role trước khi cho phép truy cập route
- Password hashing: Sử dụng bcrypt để hash password (không lưu plain text)

---

## Kết luận phần PHÂN TÍCH VÀ THIẾT KẾ HỆ THỐNG

Phần phân tích và thiết kế hệ thống đã được thực hiện một cách toàn diện, bao gồm:

1. **Phân tích nhu cầu theo nghiệp vụ**: Xác định rõ nhu cầu và giải pháp cho từng nghiệp vụ chính
2. **Phân tích nhu cầu về giao diện**: Thiết kế giao diện phù hợp cho từng nhóm người dùng
3. **Kiến trúc và công nghệ**: Lựa chọn công nghệ phù hợp và kiến trúc hệ thống rõ ràng
4. **Mô hình hóa hệ thống**: Sử dụng các sơ đồ UML để mô hình hóa hệ thống
5. **Thiết kế cơ sở dữ liệu**: Thiết kế 21 bảng với mối quan hệ rõ ràng
6. **Database Automation**: Sử dụng triggers, stored procedures, views để tự động hóa nghiệp vụ
7. **Tối ưu hóa và bảo mật**: Đảm bảo hiệu năng và bảo mật cho hệ thống

Với thiết kế này, hệ thống sẽ đáp ứng đầy đủ các yêu cầu nghiệp vụ và đảm bảo tính ổn định, bảo mật và hiệu quả.

---

## IV. KẾT LUẬN

### 1. Kết quả đạt được

#### 1.1. Ưu điểm

**Về phân tích và thiết kế:**

*Mô hình hóa hoàn chỉnh:*
- Đã xây dựng được hệ thống mô hình UML hoàn chỉnh bao gồm:
  - 1 Use Case Diagram tổng quan với 4 actors
  - 11 Activity Diagram cho các luồng nghiệp vụ chính
  - 8 Sequence Diagram chi tiết tương tác giữa các thành phần
  - 5 State Diagram cho các entity quan trọng (Loan, Schedule, Savings, Account, Collateral)
  - 1 Class Diagram đầy đủ (21 classes)
  - 1 Package Diagram với 3 tầng kiến trúc
  - 1 Component Diagram chi tiết các thành phần
  - 1 Deployment Diagram mô tả triển khai

*Thiết kế cơ sở dữ liệu chuẩn:*
- 21 bảng được tổ chức thành 6 nhóm chức năng rõ ràng
- Đầy đủ constraints (Primary Key, Foreign Key, Unique, Check)
- Indexes được thiết kế tối ưu cho performance
- Tuân thủ naming convention và best practices
- Sử dụng InnoDB engine cho ACID compliance

*Phân tích nghiệp vụ sâu:*
- Xác định đúng các actor và use case cho từng vai trò
- Phân tích chi tiết luồng xử lý cho 11 nghiệp vụ chính
- Xây dựng business rules cụ thể và ràng buộc dữ liệu
- Định nghĩa rõ quy trình nghiệp vụ (mở tài khoản, giao dịch, tiết kiệm, vay vốn)

**Về triển khai:**

*Frontend hoàn chỉnh:*
- Đã xây dựng giao diện frontend đầy đủ với React 18
- 40+ components được tổ chức theo module (customer, teller, loanOfficer, admin, common)
- 4 dashboard chính phục vụ 4 nhóm người dùng
- Responsive design hoạt động tốt trên desktop, tablet, mobile

*Giao diện thân thiện:*
- UI/UX hiện đại, professional
- Modal đa bước với progress indicator rõ ràng (3 bước cho giao dịch, 4 bước cho thẩm định vay)
- Validation thời gian thực
- Feedback ngay lập tức sau mỗi hành động
- Màu sắc phân loại theo mức độ rủi ro/trạng thái

*Biểu đồ và thống kê:*
- Biểu đồ cột: Thu nhập vs Chi tiêu
- Biểu đồ tròn: Phân bổ tài sản
- Cards thống kê với gradient đẹp mắt
- Icons trực quan cho mỗi chức năng

**Về tính năng:**

*Đầy đủ chức năng cốt lõi:*
- **Module Khách hàng**: Dashboard, Tài khoản, Chuyển khoản, Giao dịch, Tiết kiệm, Khoản vay, Đăng ký vay, Tài sản, Điểm tín dụng, Hồ sơ
- **Module Giao dịch viên**: Dashboard, Mở tài khoản, Nạp tiền, Rút tiền, Kích hoạt thẻ
- **Module Nhân viên Tín dụng**: Dashboard, Hồ sơ chờ duyệt, Đã duyệt, Từ chối, Nợ quá hạn, Xét duyệt tài sản, Quản lý điểm tín dụng
- **Module Quản trị viên**: Dashboard, Quản lý chi nhánh, Quản lý nhân viên, Báo cáo

*Tính toán tự động:*
- Tính lãi tiết kiệm (lãi đơn và lãi kép)
- Tính tỷ lệ LTV cho khoản vay có thế chấp
- Tính điểm tín dụng (thang điểm 400-800, phân loại AAA-D)
- Tính tiền trả hàng tháng (phương pháp Annuity)
- Kiểm tra điều kiện cho vay tự động

*Hệ thống điểm tín dụng động:*
- Tính điểm dựa trên 5 yếu tố (thu nhập, tỷ lệ nợ, lịch sử trả nợ, thời gian làm việc, tài sản)
- Phân loại từ AAA đến D
- Cập nhật điểm tự động khi trả nợ (+5 điểm đúng hạn, +15 điểm trả xong, -5 đến -20 điểm quá hạn)

*Xử lý đáo hạn linh hoạt:*
- Tiết kiệm: 3 lựa chọn (rút tiền, tái tục gốc, tái tục gốc + lãi)
- Khoản vay: 3 lựa chọn (trả hết, gia hạn, tái cấu trúc)
- Thông báo tự động (7 ngày cho tiết kiệm, 30 ngày cho vay)

*Xử lý nợ quá hạn theo mức độ:*
- Phân loại 4 mức độ: Cần chú ý (1-90 ngày), Dưới chuẩn (91-180 ngày), Nghi ngờ (181-360 ngày), Mất vốn (>360 ngày)
- Xử lý tự động: Nhắc nhở, giảm điểm tín dụng, gửi thông báo

**Về quy trình nghiệp vụ:**

*Tự động hóa:*
- Tự động nhắc nhở trước khi đến hạn trả nợ/đáo hạn tiết kiệm
- Tự động tái tục tiết kiệm nếu khách hàng không phản hồi
- Tự động phân loại nợ theo mức độ quá hạn
- Tự động tính lãi hàng tháng

*Minh bạch:*
- Hiển thị rõ công thức tính toán (LTV, lãi suất, điểm tín dụng)
- Cho khách hàng xem trước kết quả trước khi xác nhận
- Lưu trữ đầy đủ lịch sử giao dịch và thay đổi điểm tín dụng

**Về kỹ thuật:**

*Code structure tốt:*
- Kiến trúc module rõ ràng, dễ bảo trì
- Code được tổ chức theo component, dễ tìm và sửa
- Giao diện nhất quán giữa các module
- Responsive design chuẩn

*Công nghệ hiện đại:*
- React 18 với Vite (fast development)
- React Router DOM (role-based routing)
- Recharts (data visualization)
- MySQL 8.0 + InnoDB (ACID compliance)

*Có khả năng mở rộng:*
- Kiến trúc 3-Tier dễ scale
- Có thể thêm module mới
- Có thể tích hợp với hệ thống bên ngoài
- Có thể migrate sang microservices

#### 1.2. Nhược điểm

**Về triển khai:**
- **Backend chưa hoàn chỉnh**: Hiện chỉ có frontend với mock data, chưa có API thực và kết nối database
- **Chưa có authentication thực**: Đăng nhập chỉ là demo, chưa có JWT token thực tế
- **Chưa có database connection**: Dữ liệu mock trong file JavaScript, chưa query MySQL
- **Chưa deploy**: Chưa triển khai lên server production

**Về tính năng:**
- **Chưa tích hợp external systems**: 
  - SMS Gateway (OTP, thông báo)
  - Email Service (sao kê, thông báo)
  - Payment Gateway (thanh toán online)
  - Credit Bureau - CIC (lịch sử tín dụng)
- **Chưa có báo cáo nâng cao**: Chưa export PDF/Excel, chưa có dashboard analytics chi tiết
- **Chưa xử lý concurrent transactions**: Chưa có locking mechanism
- **Chưa có chức năng đổi mật khẩu, quên mật khẩu**

**Về bảo mật:**
- **Chưa implement mã hóa**: Password chưa hash bằng bcrypt, dữ liệu nhạy cảm chưa encrypt
- **Chưa có 2FA thực tế**: Xác thực hai yếu tố chỉ trong thiết kế
- **Chưa có rate limiting**: Chưa chống brute force attack
- **Chưa có session management**: Chưa quản lý phiên đăng nhập
- **Chưa có audit log đầy đủ**: Chưa ghi log chi tiết các thao tác quan trọng

**Về performance:**
- **Chưa optimize cho large dataset**: Chưa test với hàng triệu records
- **Chưa có caching**: Chưa dùng Redis để cache
- **Chưa có load balancing**: Chưa hỗ trợ nhiều servers
- **Chưa test performance**: Chưa test với 1000+ concurrent users

**Về giao diện:**
- **Chưa hỗ trợ đa ngôn ngữ**: Chỉ có tiếng Việt
- **Chưa có dark mode**: Chỉ có light theme
- **Chưa tối ưu accessibility**: Chưa tuân thủ WCAG 2.1 cho người khuyết tật

### 2. Hướng phát triển

#### 2.1. Ngắn hạn (3-6 tháng)

**Hoàn thiện Backend:**
- Phát triển đầy đủ RESTful API endpoints cho tất cả chức năng
- Kết nối với MySQL database thực tế
- Triển khai JWT authentication và authorization
- Xử lý transaction để đảm bảo tính toàn vẹn dữ liệu (ACID)
- Implement validation và error handling toàn diện

**Bổ sung chức năng quan trọng:**
- Module thanh toán hóa đơn (điện, nước, internet, điện thoại)
- Module chuyển khoản liên ngân hàng qua NAPAS
- Chức năng đổi mật khẩu và quên mật khẩu
- Xác thực OTP qua SMS
- Notification system (email, SMS, in-app)

**Tăng cường bảo mật:**
- Triển khai HTTPS với SSL/TLS certificate
- Mã hóa password bằng bcrypt
- Mã hóa dữ liệu nhạy cảm (số thẻ, CMND) bằng AES-256
- Xác thực hai yếu tố (2FA) thực tế với OTP
- Session management an toàn với timeout
- Rate limiting để chống brute force

**Cải thiện báo cáo:**
- Báo cáo chi tiết hơn với biểu đồ đa dạng (trend, comparison, distribution)
- Export báo cáo ra Excel, PDF
- Báo cáo theo thời gian tùy chỉnh (ngày, tuần, tháng, quý, năm)
- Dashboard chi tiết cho giám đốc chi nhánh

**Testing và Quality Assurance:**
- Unit tests cho business logic
- Integration tests cho API
- E2E tests cho critical flows
- Performance testing với nhiều concurrent users

#### 2.2. Trung hạn (6-12 tháng)

**Tích hợp hệ thống bên ngoài:**
- **SMS Gateway**: Gửi OTP và thông báo tự động (Twilio, AWS SNS)
- **Email Service**: Gửi sao kê, thông báo đáo hạn, xác nhận giao dịch
- **Payment Gateway**: Thanh toán online, nạp tiền qua thẻ quốc tế (VNPay, MoMo, ZaloPay)
- **eKYC**: Xác thực danh tính điện tử bằng CMND/CCCD
- **Credit Bureau (CIC)**: Truy vấn lịch sử tín dụng từ trung tâm thông tin tín dụng

**Phát triển ứng dụng di động:**
- Ứng dụng iOS và Android native (React Native hoặc Flutter)
- Hoặc Progressive Web App (PWA) với offline support
- Hỗ trợ sinh trắc học (vân tay, Face ID, Touch ID)
- Push notification cho thông báo realtime
- QR Code cho chuyển khoản nhanh

**Trí tuệ nhân tạo và Machine Learning:**
- **Chatbot AI**: Hỗ trợ khách hàng 24/7, trả lời câu hỏi thường gặp
- **Fraud Detection**: Phát hiện giao dịch bất thường, cảnh báo gian lận
- **Credit Scoring**: Dự đoán khả năng trả nợ chính xác hơn
- **Recommendation System**: Gợi ý sản phẩm tài chính phù hợp với từng khách hàng
- **Risk Assessment**: Đánh giá rủi ro tín dụng tự động

**Optimization:**
- **Caching**: Triển khai Redis cho session storage, cache account balances, credit scores
- **Database optimization**: Query optimization, indexing, partitioning
- **Frontend optimization**: Code splitting, lazy loading, image optimization
- **CDN**: Serve static assets qua CDN để giảm latency

#### 2.3. Dài hạn (1-2 năm)

**Mở rộng sản phẩm:**
- **Đầu tư chứng khoán**: Mua bán cổ phiếu, trái phiếu
- **Mua bán ngoại tệ**: Giao dịch ngoại tệ (USD, EUR, JPY)
- **Bảo hiểm ngân hàng**: Bảo hiểm nhân thọ, bảo hiểm tài sản
- **Cho vay ngang hàng (P2P lending)**: Platform kết nối người cho vay và đi vay
- **Ví điện tử tích hợp**: Tích hợp với MoMo, ZaloPay, VNPay

**Phân tích dữ liệu lớn (Big Data):**
- Phân tích hành vi khách hàng để hiểu insight
- Phân khúc khách hàng (segmentation) để marketing chính xác
- Dự báo xu hướng thị trường (market trends)
- Tối ưu hóa lãi suất động dựa trên risk và demand

**Tự động hóa toàn diện:**
- Tự động phê duyệt khoản vay nhỏ (< 50 triệu) dựa trên AI
- Tự động xếp hạng tín dụng và cập nhật theo thời gian thực
- Tự động cảnh báo rủi ro (credit risk, market risk, operational risk)
- Tự động rebalance danh mục đầu tư

**Blockchain:**
- Lưu trữ hợp đồng thông minh (smart contracts) cho khoản vay
- Đảm bảo tính minh bạch và không thể chỉnh sửa (immutable)
- Giảm chi phí xác minh và kiểm toán
- Cross-border payment nhanh hơn, rẻ hơn

**Mở rộng địa lý:**
- Hỗ trợ đa ngôn ngữ (Tiếng Anh, Tiếng Trung, Tiếng Nhật)
- Hỗ trợ đa tiền tệ (VND, USD, EUR, JPY)
- Tuân thủ quy định ngân hàng quốc tế (Basel III, FATF)
- Kết nối với hệ thống SWIFT cho chuyển tiền quốc tế

**Open Banking:**
- Cung cấp API mở cho bên thứ ba (fintech startups)
- Cho phép fintech kết nối và phát triển dịch vụ trên nền tảng
- Tích hợp với các ví điện tử phổ biến
- Ecosystem tài chính mở, hợp tác win-win

**Scalability:**
- Migrate sang Microservices architecture
- Kubernetes cho container orchestration
- Load balancing với multiple servers
- Database replication (Master-Slave, Multi-Master)
- Horizontal scaling cho từng service

#### 2.4. Khuyến nghị triển khai

**Cho đội ngũ kỹ thuật:**

*Backend Developer:*
- Ưu tiên phát triển các API quan trọng trước: authentication, accounts, transactions, loans
- Sử dụng framework hiện đại: Node.js + Express (khuyến nghị) hoặc Spring Boot
- Triển khai database migration (Flyway, Liquibase) để quản lý phiên bản schema
- Viết unit tests cho các function tính toán (LTV, interest, credit score)

*Frontend Developer:*
- Tối ưu hóa performance: code splitting, lazy loading, memoization
- Xử lý error tốt hơn với retry mechanism và fallback UI
- Thêm loading state và skeleton screens cho mọi action
- Cải thiện accessibility: keyboard navigation, screen reader support (WCAG 2.1)

*DevOps:*
- Thiết lập CI/CD pipeline (GitHub Actions, GitLab CI)
- Containerize ứng dụng bằng Docker
- Deploy lên cloud (AWS, Azure, Google Cloud)
- Setup monitoring và alerting (Prometheus, Grafana)

**Cho đội ngũ kinh doanh:**

*Đào tạo:*
- Tổ chức training cho nhân viên giao dịch và tín dụng
- Chuẩn bị tài liệu hướng dẫn sử dụng chi tiết (user manual)
- Video tutorial cho các chức năng chính
- Hotline hỗ trợ kỹ thuật 24/7

*Marketing:*
- Chiến dịch quảng bá hệ thống mới cho khách hàng
- Ưu đãi cho khách hàng đầu tiên sử dụng (early adopters)
- Chương trình giới thiệu bạn bè (referral program)
- Social media marketing

**Cho ban lãnh đạo:**

*Đầu tư:*
- Ngân sách cho phát triển backend và tích hợp (6-12 tháng)
- Đầu tư vào bảo mật và infrastructure (servers, network, firewall)
- Thuê hoặc đào tạo nhân viên IT (backend, DevOps, security)

*Tuân thủ pháp lý:*
- Đảm bảo tuân thủ quy định của Ngân hàng Nhà nước Việt Nam
- Đăng ký với Cục An toàn thông tin (Ministry of Information and Communications)
- Tuân thủ Nghị định Bảo vệ dữ liệu cá nhân (GDPR-like regulations)
- Audit định kỳ và penetration testing

*Chiến lược:*
- Lộ trình chuyển đổi số rõ ràng (digital transformation roadmap)
- KPI đo lường thành công (active users, transaction volume, customer satisfaction)
- Kế hoạch dự phòng và disaster recovery
- Đối tác chiến lược (fintech, công nghệ, telco)

---

## Kết luận chung

Hệ thống Quản lý Ngân hàng đã được phân tích, thiết kế và triển khai frontend một cách bài bản với đầy đủ các chức năng cốt lõi của một ngân hàng thương mại. Dự án đã đạt được những kết quả quan trọng:

**Về phân tích và thiết kế:**
- Hệ thống mô hình UML hoàn chỉnh (8 loại sơ đồ)
- Thiết kế cơ sở dữ liệu chuẩn hóa (21 bảng, 6 nhóm)
- Phân tích nghiệp vụ sâu với business rules cụ thể

**Về triển khai:**
- Frontend hoàn chỉnh với 4 dashboard và 40+ components
- Giao diện hiện đại, responsive, dễ sử dụng
- Tính toán tự động chính xác (lãi suất, LTV, điểm tín dụng)

**Điểm nổi bật:**
- Tự động hóa nhiều quy trình phức tạp (thẩm định vay, tính điểm tín dụng, xử lý đáo hạn)
- Giao diện với modal đa bước, validation realtime, feedback tức thì
- Kiểm soát rủi ro tốt thông qua hệ thống điểm tín dụng và LTV

**Tiềm năng phát triển:**
Hệ thống có nền tảng vững chắc để phát triển thành một giải pháp ngân hàng hoàn chỉnh với:
- AI/ML cho dự đoán và gợi ý thông minh
- Blockchain cho hợp đồng minh bạch
- Open Banking cho ecosystem mở
- Big Data cho phân tích hành vi khách hàng

**Giá trị mang lại:**
- **Cho khách hàng**: Trải nghiệm tốt hơn, giao dịch nhanh hơn, minh bạch hơn
- **Cho ngân hàng**: Giảm chi phí vận hành, tăng hiệu quả, giảm rủi ro nợ xấu
- **Cho nhân viên**: Làm việc hiệu quả hơn, ít sai sót hơn, tập trung vào tư vấn
- **Cho xã hội**: Thúc đẩy chuyển đổi số, tài chính toàn diện, minh bạch trong giao dịch

Mặc dù còn một số hạn chế về mặt triển khai đầy đủ (backend chưa hoàn chỉnh, chưa tích hợp external systems), nhưng với kiến trúc module hóa, công nghệ hiện đại, và business rules được định nghĩa rõ ràng, hệ thống có khả năng mở rộng tốt để phát triển thành một hệ thống quản lý ngân hàng hoàn chỉnh, đáp ứng nhu cầu thực tế của một ngân hàng thương mại trong thời đại chuyển đổi số.

Với lộ trình phát triển rõ ràng và cam kết cải tiến liên tục, hệ thống này hứa hẹn sẽ trở thành giải pháp quản lý ngân hàng hiện đại, cạnh tranh và bền vững trong ngành tài chính ngân hàng Việt Nam.

---

*Kết thúc báo cáo đồ án Hệ thống Quản lý Ngân hàng*


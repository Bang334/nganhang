@startuml Rút Tiền
autonumber
title Luồng Rút Tiền Tại Quầy

actor "Khách hàng" as Customer
participant "Giao dịch viên" as Teller
participant "System" as System
database "Database" as DB

Customer -> Teller: Yêu cầu rút tiền\n(CMND + Số TK)
Teller -> System: Nhập STK, số tiền

System -> DB: Tìm Account
DB --> System: Account info

alt Account hợp lệ
    System -> System: Kiểm tra số dư\n(min 50K) và hạn mức ngày (50M)
    
    alt Thỏa điều kiện
        Teller -> System: Xác nhận rút tiền
        System --> Teller: Hiển thị biên lai mô phỏng
        Teller --> Customer: Trao tiền mặt\nvà biên lai
    else Vi phạm điều kiện
        System --> Teller: Lỗi (Số dư hoặc hạn mức)
        Teller --> Customer: Thông báo lỗi
    end
else Account không hợp lệ
    System --> Teller: Lỗi: Tài khoản không hợp lệ
    Teller --> Customer: Thông báo lỗi
end

@enduml

